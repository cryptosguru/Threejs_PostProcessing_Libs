!function(w,s,o){"use strict";s=s&&s.hasOwnProperty("default")?s.default:s,o=o&&o.hasOwnProperty("default")?o.default:o;var l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),h=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},c=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},t=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},n=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"demo";l(this,t),this.id=e,this.renderer=null,this.loadingManager=new w.LoadingManager,this.assets=new Map,this.scene=new w.Scene,this.camera=null,this.controls=null,this.ready=!1}return u(t,[{key:"setRenderer",value:function(e){return this.renderer=e,this}},{key:"load",value:function(){return Promise.resolve()}},{key:"initialize",value:function(){}},{key:"render",value:function(e){this.renderer.render(this.scene,this.camera)}},{key:"registerOptions",value:function(e){}},{key:"reset",value:function(){var e=this.scene.fog;return this.scene=new w.Scene,this.scene.fog=e,(this.camera=null)!==this.controls&&(this.controls.dispose(),this.controls=null),this.ready=!1,this}}]),t}(),r=function e(t){l(this,e),this.type=t,this.target=null},i=function(){function e(){l(this,e),this.listenerFunctions=new Map,this.listenerObjects=new Map}return u(e,[{key:"addEventListener",value:function(e,t){var n="function"==typeof t?this.listenerFunctions:this.listenerObjects;n.has(e)?n.get(e).add(t):n.set(e,new Set([t]))}},{key:"removeEventListener",value:function(e,t){var n="function"==typeof t?this.listenerFunctions:this.listenerObjects,r=void 0;n.has(e)&&((r=n.get(e)).delete(t),0===r.size&&n.delete(e))}},{key:"dispatchEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this,n=t.listenerFunctions,r=t.listenerObjects,i=void 0;if(e.target=t,n.has(e.type)){i=n.get(e.type);var a=!0,s=!1,o=void 0;try{for(var l,u=i[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)l.value.call(t,e)}catch(e){s=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw o}}}if(r.has(e.type)){i=r.get(e.type);var h=!0,c=!1,d=void 0;try{for(var f,v=i[Symbol.iterator]();!(h=(f=v.next()).done);h=!0)f.value.handleEvent(e)}catch(e){c=!0,d=e}finally{try{!h&&v.return&&v.return()}finally{if(c)throw d}}}}}]),e}(),e=function(e){function n(e){l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.previousDemo=null,t.demo=null,t}return c(n,r),n}(),f=new e("change"),v=new e("load"),g=window.location.hash.slice(1),a=function(e){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,a);var n,r=void 0!==t.aside?t.aside:e,i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return i.renderer=void 0!==t.renderer?t.renderer:((n=new w.WebGLRenderer).setSize(e.clientWidth,e.clientHeight),n.setPixelRatio(window.devicePixelRatio),n),e.appendChild(i.renderer.domElement),i.clock=new w.Clock,i.menu=new s.GUI({autoPlace:!1}),r.appendChild(i.menu.domElement),i.statistics=new o,i.statistics.dom.id="statistics",r.appendChild(i.statistics.domElement),i.demos=new Map,i.demo=null,i.currentDemo=null,i}return c(a,i),u(a,[{key:"resetMenu",value:function(){var e=this,t=this.menu.domElement.parentNode,n=new s.GUI({autoPlace:!1});1<this.demos.size&&n.add(this,"demo",Array.from(this.demos.keys())).onChange(function(){return e.loadDemo()});return t.removeChild(this.menu.domElement),t.appendChild(n.domElement),this.menu.destroy(),this.menu=n}},{key:"startDemo",value:function(e){e.id===this.demo&&(e.initialize(),e.registerOptions(this.resetMenu()),e.ready=!0,v.demo=e,this.dispatchEvent(v))}},{key:"loadDemo",value:function(){var e=this,t=this.demo,n=this.demos.get(t),r=this.currentDemo,i=this.renderer;window.location.hash=t,null!==r&&r.reset(),this.menu.domElement.style.display="none",i.clear(),f.previousDemo=r,f.demo=n,this.currentDemo=n,this.dispatchEvent(f),n.load().then(function(){return e.startDemo(n)}).catch(function(e){return console.error(e)})}},{key:"addDemo",value:function(e){var t=this.currentDemo;return this.demos.set(e.id,e.setRenderer(this.renderer)),null!==this.demo&&e.id!==g||(this.demo=e.id,this.loadDemo()),this.resetMenu(),null!==t&&t.ready&&t.registerOptions(this.menu),this}},{key:"removeDemo",value:function(e){var t=this.demos,n=void 0;return t.has(e)&&(t.delete(e),this.demo===e&&0<t.size?(n=t.entries().next().value,this.demo=n[0],this.currentDemo=n[1],this.loadDemo()):(this.demo=null,this.currentDemo=null,this.renderer.clear())),this}},{key:"setSize",value:function(e,t){var n=this.currentDemo;this.renderer.setSize(e,t),null!==n&&null!==n.camera&&(n.camera.aspect=e/t,n.camera.updateProjectionMatrix())}},{key:"render",value:function(e){var t=this.currentDemo,n=this.clock.getDelta();null!==t&&t.ready&&(this.statistics.begin(),t.render(n),this.statistics.end())}}]),a}(),m=(function(){function e(){l(this,e)}u(e,[{key:"dispose",value:function(){}}])}(),"uniform sampler2D tPreviousLum;\r\nuniform sampler2D tCurrentLum;\r\nuniform float minLuminance;\r\nuniform float delta;\r\nuniform float tau;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tfloat previousLum = texture2D(tPreviousLum, vUv, MIP_LEVEL_1X1).r;\r\n\tfloat currentLum = texture2D(tCurrentLum, vUv, MIP_LEVEL_1X1).r;\r\n\r\n\tpreviousLum = max(minLuminance, previousLum);\r\n\tcurrentLum = max(minLuminance, currentLum);\r\n\r\n\t// Adapt the luminance using Pattanaik's technique.\r\n\tfloat adaptedLum = previousLum + (currentLum - previousLum) * (1.0 - exp(-delta * tau));\r\n\r\n\tgl_FragColor.r = adaptedLum;\r\n\r\n}\r\n"),y="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",p=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"AdaptiveLuminosityMaterial",defines:{MIP_LEVEL_1X1:"0.0"},uniforms:{tPreviousLum:new w.Uniform(null),tCurrentLum:new w.Uniform(null),minLuminance:new w.Uniform(.01),delta:new w.Uniform(0),tau:new w.Uniform(1)},fragmentShader:m,vertexShader:y,depthWrite:!1,depthTest:!1}))}return c(t,e),t}(w.ShaderMaterial),A="uniform sampler2D tDiffuse;\r\nuniform sampler2D tDepth;\r\n\r\nuniform float focus;\r\nuniform float dof;\r\nuniform float aspect;\r\nuniform float aperture;\r\nuniform float maxBlur;\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifndef USE_LOGDEPTHBUF\r\n\r\n\t#include <packing>\r\n\r\n\tuniform float cameraNear;\r\n\tuniform float cameraFar;\r\n\r\n\tfloat readDepth(sampler2D depthSampler, vec2 coord) {\r\n\r\n\t\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\r\n\t\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\nvoid main() {\r\n\r\n\tvec2 aspectCorrection = vec2(1.0, aspect);\r\n\r\n\t#ifdef USE_LOGDEPTHBUF\r\n\r\n\t\tfloat depth = texture2D(tDepth, vUv).x;\r\n\r\n\t#else\r\n\r\n\t\tfloat depth = readDepth(tDepth, vUv);\r\n\r\n\t#endif\r\n\r\n\tfloat focusNear = clamp(focus - dof, 0.0, 1.0);\r\n\tfloat focusFar = clamp(focus + dof, 0.0, 1.0);\r\n\r\n\t// Calculate a DoF mask.\r\n\tfloat low = step(depth, focusNear);\r\n\tfloat high = step(focusFar, depth);\r\n\r\n\tfloat factor = (depth - focusNear) * low + (depth - focusFar) * high;\r\n\r\n\tvec2 dofBlur = vec2(clamp(factor * aperture, -maxBlur, maxBlur));\r\n\r\n\tvec2 dofblur9 = dofBlur * 0.9;\r\n\tvec2 dofblur7 = dofBlur * 0.7;\r\n\tvec2 dofblur4 = dofBlur * 0.4;\r\n\r\n\tvec4 color = vec4(0.0);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15,  0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37,  0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.40,  0.0 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37, -0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15, -0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15,  0.37) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37,  0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37, -0.15) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofBlur);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15, -0.37) * aspectCorrection) * dofBlur);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15,  0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37,  0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37, -0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15, -0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.15,  0.37) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.37,  0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.37, -0.15) * aspectCorrection) * dofblur9);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.15, -0.37) * aspectCorrection) * dofblur9);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.40,  0.0 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofblur7);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofblur7);\r\n\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29,  0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.4,   0.0 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.29, -0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,  -0.4 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29,  0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.4,   0.0 ) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2(-0.29, -0.29) * aspectCorrection) * dofblur4);\r\n\tcolor += texture2D(tDiffuse, vUv + (vec2( 0.0,   0.4 ) * aspectCorrection) * dofblur4);\r\n\r\n\tgl_FragColor = color / 41.0;\r\n\r\n}\r\n",x="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",M=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,i);var n=Object.assign({focus:1,dof:.02,aperture:.025,maxBlur:1},t),r=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,{type:"BokehMaterial",uniforms:{cameraNear:new w.Uniform(.1),cameraFar:new w.Uniform(2e3),aspect:new w.Uniform(1),tDiffuse:new w.Uniform(null),tDepth:new w.Uniform(null),focus:new w.Uniform(n.focus),dof:new w.Uniform(n.dof),aperture:new w.Uniform(n.aperture),maxBlur:new w.Uniform(n.maxBlur)},fragmentShader:A,vertexShader:x,depthWrite:!1,depthTest:!1}));return r.adoptCameraSettings(e),r}return c(i,e),u(i,[{key:"adoptCameraSettings",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,this.uniforms.aspect.value=e.aspect)}}]),i}(w.ShaderMaterial),k="uniform sampler2D tDiffuse;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\n\r\nvoid main() {\r\n\r\n\tconst vec2 threshold = vec2(EDGE_THRESHOLD);\r\n\r\n\t// Calculate color deltas.\r\n\tvec4 delta;\r\n\tvec3 c = texture2D(tDiffuse, vUv).rgb;\r\n\r\n\tvec3 cLeft = texture2D(tDiffuse, vOffset[0].xy).rgb;\r\n\tvec3 t = abs(c - cLeft);\r\n\tdelta.x = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cTop = texture2D(tDiffuse, vOffset[0].zw).rgb;\r\n\tt = abs(c - cTop);\r\n\tdelta.y = max(max(t.r, t.g), t.b);\r\n\r\n\t// We do the usual threshold.\r\n\tvec2 edges = step(threshold, delta.xy);\r\n\r\n\t// Then discard if there is no edge.\r\n\tif(dot(edges, vec2(1.0)) == 0.0) {\r\n\r\n\t\tdiscard;\r\n\r\n\t}\r\n\r\n\t// Calculate right and bottom deltas.\r\n\tvec3 cRight = texture2D(tDiffuse, vOffset[1].xy).rgb;\r\n\tt = abs(c - cRight);\r\n\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cBottom = texture2D(tDiffuse, vOffset[1].zw).rgb;\r\n\tt = abs(c - cBottom);\r\n\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t// Calculate the maximum delta in the direct neighborhood.\r\n\tfloat maxDelta = max(max(max(delta.x, delta.y), delta.z), delta.w);\r\n\r\n\t// Calculate left-left and top-top deltas.\r\n\tvec3 cLeftLeft = texture2D(tDiffuse, vOffset[2].xy).rgb;\r\n\tt = abs(c - cLeftLeft);\r\n\tdelta.z = max(max(t.r, t.g), t.b);\r\n\r\n\tvec3 cTopTop = texture2D(tDiffuse, vOffset[2].zw).rgb;\r\n\tt = abs(c - cTopTop);\r\n\tdelta.w = max(max(t.r, t.g), t.b);\r\n\r\n\t// Calculate the final maximum delta.\r\n\tmaxDelta = max(max(maxDelta, delta.z), delta.w);\r\n\r\n\t// Local contrast adaptation in action.\r\n\tedges.xy *= step(0.5 * maxDelta, delta.xy);\r\n\r\n\tgl_FragColor = vec4(edges, 0.0, 0.0);\r\n\r\n}\r\n",C="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvOffset[0] = uv.xyxy + texelSize.xyxy * vec4(-1.0, 0.0, 0.0, 1.0); // Changed sign in W component.\r\n\tvOffset[1] = uv.xyxy + texelSize.xyxy * vec4(1.0, 0.0, 0.0, -1.0); // Changed sign in W component.\r\n\tvOffset[2] = uv.xyxy + texelSize.xyxy * vec4(-2.0, 0.0, 0.0, 2.0); // Changed sign in W component.\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",D=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new w.Vector2;return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"ColorEdgesMaterial",defines:{EDGE_THRESHOLD:"0.1"},uniforms:{tDiffuse:new w.Uniform(null),texelSize:new w.Uniform(e)},fragmentShader:k,vertexShader:C,depthWrite:!1,depthTest:!1}))}return c(t,e),u(t,[{key:"setEdgeDetectionThreshold",value:function(e){this.defines.EDGE_THRESHOLD=e.toFixed("2"),this.needsUpdate=!0}}]),t}(w.ShaderMaterial),S="uniform sampler2D texture1;\r\nuniform sampler2D texture2;\r\n\r\nuniform float opacity1;\r\nuniform float opacity2;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel1 = opacity1 * texture2D(texture1, vUv);\r\n\tvec4 texel2 = opacity2 * texture2D(texture2, vUv);\r\n\r\n\t#ifdef SCREEN_MODE\r\n\r\n\t\tvec3 invTexel1 = vec3(1.0) - texel1.rgb;\r\n\t\tvec3 invTexel2 = vec3(1.0) - texel2.rgb;\r\n\r\n\t\tvec4 color = vec4(\r\n\t\t\tvec3(1.0) - invTexel1 * invTexel2,\r\n\t\t\ttexel1.a + texel2.a\r\n\t\t);\r\n\r\n\t#else\r\n\r\n\t\tvec4 color = texel1 + texel2;\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",E="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",P=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{type:"CombineMaterial",uniforms:{texture1:new w.Uniform(null),texture2:new w.Uniform(null),opacity1:new w.Uniform(1),opacity2:new w.Uniform(1)},fragmentShader:S,vertexShader:E,depthWrite:!1,depthTest:!1}));return t.setScreenModeEnabled(e),t}return c(n,e),u(n,[{key:"setScreenModeEnabled",value:function(e){e?this.defines.SCREEN_MODE="1":delete this.defines.SCREEN_MODE,this.needsUpdate=!0}}]),n}(w.ShaderMaterial),b="#include <common>\r\n#include <dithering_pars_fragment>\r\n\r\nuniform sampler2D tDiffuse;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\t// Sample top left texel.\r\n\tvec4 sum = texture2D(tDiffuse, vUv0);\r\n\r\n\t// Sample top right texel.\r\n\tsum += texture2D(tDiffuse, vUv1);\r\n\r\n\t// Sample bottom right texel.\r\n\tsum += texture2D(tDiffuse, vUv2);\r\n\r\n\t// Sample bottom left texel.\r\n\tsum += texture2D(tDiffuse, vUv3);\r\n\r\n\t// Compute the average.\r\n\tgl_FragColor = sum * 0.25;\r\n\r\n\t#include <dithering_fragment>\r\n\r\n}\r\n",B="uniform vec2 texelSize;\r\nuniform vec2 halfTexelSize;\r\nuniform float kernel;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 dUv = (texelSize * vec2(kernel)) + halfTexelSize;\r\n\r\n\tvUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\r\n\tvUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\r\n\tvUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\r\n\tvUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",z=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new w.Vector2;l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{type:"ConvolutionMaterial",uniforms:{tDiffuse:new w.Uniform(null),texelSize:new w.Uniform(new w.Vector2),halfTexelSize:new w.Uniform(new w.Vector2),kernel:new w.Uniform(0)},fragmentShader:b,vertexShader:B,depthWrite:!1,depthTest:!1}));return t.setTexelSize(e.x,e.y),t.kernelSize=O.LARGE,t}return c(n,e),u(n,[{key:"getKernel",value:function(){return T[this.kernelSize]}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}}]),n}(w.ShaderMaterial),T=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],O={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},I="uniform sampler2D tDiffuse;\r\nuniform float opacity;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tgl_FragColor = opacity * texel;\r\n\r\n}\r\n",L="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",F=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"CopyMaterial",uniforms:{tDiffuse:new w.Uniform(null),opacity:new w.Uniform(1)},fragmentShader:I,vertexShader:L,depthWrite:!1,depthTest:!1}))}return c(t,e),t}(w.ShaderMaterial),U="#include <packing>\r\n#include <clipping_planes_pars_fragment>\r\n\r\nuniform sampler2D tDepth;\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\n\r\nvarying float vViewZ;\r\nvarying vec4 vProjTexCoord;\r\n\r\nvoid main() {\r\n\r\n\t#include <clipping_planes_fragment>\r\n\r\n\t// Transform into Cartesian coordinate (not mirrored).\r\n\tvec2 projTexCoord = (vProjTexCoord.xy / vProjTexCoord.w) * 0.5 + 0.5;\r\n\tprojTexCoord = clamp(projTexCoord, 0.002, 0.998);\r\n\r\n\tfloat fragCoordZ = unpackRGBAToDepth(texture2D(tDepth, projTexCoord));\r\n\r\n\t#ifdef PERSPECTIVE_CAMERA\r\n\r\n\t\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t#else\r\n\r\n\t\tfloat viewZ = orthographicDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t#endif\r\n\r\n\tfloat depthTest = (-vViewZ > -viewZ) ? 1.0 : 0.0;\r\n\r\n\tgl_FragColor.rgb = vec3(0.0, depthTest, 1.0);\r\n\r\n}\r\n",R="#include <common>\r\n#include <morphtarget_pars_vertex>\r\n#include <skinning_pars_vertex>\r\n#include <clipping_planes_pars_vertex>\r\n\r\nvarying float vViewZ;\r\nvarying vec4 vProjTexCoord;\r\n\r\nvoid main() {\r\n\r\n\t#include <skinbase_vertex>\r\n\r\n\t#include <begin_vertex>\r\n\t#include <morphtarget_vertex>\r\n\t#include <skinning_vertex>\r\n\t#include <project_vertex>\r\n\r\n\tvViewZ = mvPosition.z;\r\n\tvProjTexCoord = gl_Position;\r\n\r\n\t#include <clipping_planes_vertex>\r\n\r\n}\r\n",G=function(e){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{type:"DepthComparisonMaterial",uniforms:{tDepth:new w.Uniform(e),cameraNear:new w.Uniform(.1),cameraFar:new w.Uniform(2e3)},fragmentShader:U,vertexShader:R,depthWrite:!1,depthTest:!1,morphTargets:!0,skinning:!0}));return n.adoptCameraSettings(t),n}return c(r,e),u(r,[{key:"adoptCameraSettings",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof w.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA)}}]),r}(w.ShaderMaterial),Q="uniform sampler2D tDiffuse;\r\n\r\nuniform float angle;\r\nuniform float scale;\r\nuniform float intensity;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUvPattern;\r\n\r\nfloat pattern() {\r\n\r\n\tfloat s = sin(angle);\r\n\tfloat c = cos(angle);\r\n\r\n\tvec2 point = vec2(c * vUvPattern.x - s * vUvPattern.y, s * vUvPattern.x + c * vUvPattern.y) * scale;\r\n\r\n\treturn (sin(point.x) * sin(point.y)) * 4.0;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tvec3 color = texel.rgb;\r\n\r\n\t#ifdef AVERAGE\r\n\r\n\t\tcolor = vec3((color.r + color.g + color.b) / 3.0);\r\n\r\n\t#endif\r\n\r\n\tcolor = vec3(color * 10.0 - 5.0 + pattern());\r\n\tcolor = texel.rgb + (color - texel.rgb) * intensity;\r\n\r\n\tgl_FragColor = vec4(color, texel.a);\r\n\r\n}\r\n",Y="uniform vec4 offsetRepeat;\r\n\r\nvarying vec2 vUv;\r\nvarying vec2 vUvPattern;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tvUvPattern = uv * offsetRepeat.zw + offsetRepeat.xy;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",H=function(e){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,r);var t=Object.assign({average:!1,angle:1.57,scale:1,intensity:1},e),n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{type:"DotScreenMaterial",uniforms:{tDiffuse:new w.Uniform(null),angle:new w.Uniform(t.angle),scale:new w.Uniform(t.scale),intensity:new w.Uniform(t.intensity),offsetRepeat:new w.Uniform(new w.Vector4(.5,.5,1,1))},fragmentShader:Q,vertexShader:Y,depthWrite:!1,depthTest:!1}));return n.setAverageEnabled(t.average),n}return c(r,e),u(r,[{key:"setAverageEnabled",value:function(e){e?this.defines.AVERAGE="1":delete this.defines.AVERAGE,this.needsUpdate=!0}}]),r}(w.ShaderMaterial),V="uniform sampler2D tDiffuse;\r\nuniform float time;\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifdef NOISE\r\n\r\n\tuniform float noiseIntensity;\r\n\r\n#endif\r\n\r\n#ifdef SCANLINES\r\n\r\n\tuniform float scanlineIntensity;\r\n\tuniform float scanlineCount;\r\n\r\n#endif\r\n\r\n#ifdef GRID\r\n\r\n\tuniform float gridIntensity;\r\n\tuniform vec2 gridScale;\r\n\tuniform float gridLineWidth;\r\n\r\n#endif\r\n\r\n#ifdef GREYSCALE\r\n\r\n\t#include <common>\r\n\r\n\tuniform float greyscaleIntensity;\r\n\r\n#elif defined(SEPIA)\r\n\r\n\tuniform float sepiaIntensity;\r\n\r\n#endif\r\n\r\n#ifdef VIGNETTE\r\n\r\n\tuniform float vignetteOffset;\r\n\tuniform float vignetteDarkness;\r\n\r\n#endif\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tvec3 color = texel.rgb;\r\n\r\n\t#ifdef SCREEN_MODE\r\n\r\n\t\tvec3 invColor;\r\n\r\n\t#endif\r\n\r\n\t#ifdef NOISE\r\n\r\n\t\tfloat x = vUv.x * vUv.y * time * 1000.0;\r\n\t\tx = mod(x, 13.0) * mod(x, 123.0);\r\n\t\tx = mod(x, 0.01);\r\n\r\n\t\tvec3 noise = texel.rgb * clamp(0.1 + x * 100.0, 0.0, 1.0) * noiseIntensity;\r\n\r\n\t\t#ifdef SCREEN_MODE\r\n\r\n\t\t\tinvColor = vec3(1.0) - color;\r\n\t\t\tvec3 invNoise = vec3(1.0) - noise;\r\n\r\n\t\t\tcolor = vec3(1.0) - invColor * invNoise;\r\n\r\n\t\t#else\r\n\r\n\t\t\tcolor += noise;\r\n\r\n\t\t#endif\r\n\r\n\t#endif\r\n\r\n\t#ifdef SCANLINES\r\n\r\n\t\tvec2 sl = vec2(sin(vUv.y * scanlineCount), cos(vUv.y * scanlineCount));\r\n\t\tvec3 scanlines = texel.rgb * vec3(sl.x, sl.y, sl.x) * scanlineIntensity;\r\n\r\n\t\t#ifdef SCREEN_MODE\r\n\r\n\t\t\tinvColor = vec3(1.0) - color;\r\n\t\t\tvec3 invScanlines = vec3(1.0) - scanlines;\r\n\r\n\t\t\tcolor = vec3(1.0) - invColor * invScanlines;\r\n\r\n\t\t#else\r\n\r\n\t\t\tcolor += scanlines;\r\n\r\n\t\t#endif\r\n\r\n\t#endif\r\n\r\n\t#ifdef GRID\r\n\r\n\t\tfloat grid = 0.5 - max(abs(mod(vUv.x * gridScale.x, 1.0) - 0.5), abs(mod(vUv.y * gridScale.y, 1.0) - 0.5));\r\n\t\tcolor *= (1.0 - gridIntensity) + vec3(smoothstep(0.0, gridLineWidth, grid)) * gridIntensity;\r\n\r\n\t#endif\r\n\r\n\t#ifdef GREYSCALE\r\n\r\n\t\tcolor = mix(color, vec3(linearToRelativeLuminance(color)), greyscaleIntensity);\r\n\r\n\t#elif defined(SEPIA)\r\n\r\n\t\tvec3 c = color.rgb;\r\n\r\n\t\tcolor.r = dot(c, vec3(1.0 - 0.607 * sepiaIntensity, 0.769 * sepiaIntensity, 0.189 * sepiaIntensity));\r\n\t\tcolor.g = dot(c, vec3(0.349 * sepiaIntensity, 1.0 - 0.314 * sepiaIntensity, 0.168 * sepiaIntensity));\r\n\t\tcolor.b = dot(c, vec3(0.272 * sepiaIntensity, 0.534 * sepiaIntensity, 1.0 - 0.869 * sepiaIntensity));\r\n\r\n\t#endif\r\n\r\n\t#ifdef VIGNETTE\r\n\r\n\t\tconst vec2 center = vec2(0.5);\r\n\r\n\t\t#ifdef ESKIL\r\n\r\n\t\t\tvec2 uv = (vUv - center) * vec2(vignetteOffset);\r\n\t\t\tcolor = mix(color.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat dist = distance(vUv, center);\r\n\t\t\tcolor *= smoothstep(0.8, vignetteOffset * 0.799, dist * (vignetteDarkness + vignetteOffset));\r\n\r\n\t\t#endif\t\t\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = vec4(clamp(color, 0.0, 1.0), texel.a);\r\n\r\n}\r\n",j="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",N=function(e){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,r);var t=Object.assign({screenMode:!0,noise:!0,scanlines:!0,grid:!1,greyscale:!1,sepia:!1,vignette:!1,eskil:!1,noiseIntensity:.5,scanlineIntensity:.05,gridIntensity:1,greyscaleIntensity:1,sepiaIntensity:1,vignetteOffset:1,vignetteDarkness:1},e),n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{type:"FilmMaterial",uniforms:{tDiffuse:new w.Uniform(null),time:new w.Uniform(0),noiseIntensity:new w.Uniform(t.noiseIntensity),scanlineIntensity:new w.Uniform(t.scanlineIntensity),gridIntensity:new w.Uniform(t.gridIntensity),scanlineCount:new w.Uniform(0),gridScale:new w.Uniform(new w.Vector2),gridLineWidth:new w.Uniform(0),greyscaleIntensity:new w.Uniform(t.greyscaleIntensity),sepiaIntensity:new w.Uniform(t.sepiaIntensity),vignetteOffset:new w.Uniform(t.vignetteOffset),vignetteDarkness:new w.Uniform(t.vignetteDarkness)},fragmentShader:V,vertexShader:j,depthWrite:!1,depthTest:!1}));return n.setScreenModeEnabled(t.screenMode),n.setNoiseEnabled(t.noise),n.setScanlinesEnabled(t.scanlines),n.setGridEnabled(t.grid),n.setGreyscaleEnabled(t.greyscale),n.setSepiaEnabled(t.sepia),n.setVignetteEnabled(t.vignette),n.setEskilEnabled(t.eskil),n}return c(r,e),u(r,[{key:"setScreenModeEnabled",value:function(e){e?this.defines.SCREEN_MODE="1":delete this.defines.SCREEN_MODE,this.needsUpdate=!0}},{key:"setNoiseEnabled",value:function(e){e?this.defines.NOISE="1":delete this.defines.NOISE,this.needsUpdate=!0}},{key:"setScanlinesEnabled",value:function(e){e?this.defines.SCANLINES="1":delete this.defines.SCANLINES,this.needsUpdate=!0}},{key:"setGridEnabled",value:function(e){e?this.defines.GRID="1":delete this.defines.GRID,this.needsUpdate=!0}},{key:"setGreyscaleEnabled",value:function(e){e?this.defines.GREYSCALE="1":delete this.defines.GREYSCALE,this.needsUpdate=!0}},{key:"setSepiaEnabled",value:function(e){e?this.defines.SEPIA="1":delete this.defines.SEPIA,this.needsUpdate=!0}},{key:"setVignetteEnabled",value:function(e){e?this.defines.VIGNETTE="1":delete this.defines.VIGNETTE,this.needsUpdate=!0}},{key:"setEskilEnabled",value:function(e){e?this.defines.ESKIL="1":delete this.defines.ESKIL,this.needsUpdate=!0}}]),r}(w.ShaderMaterial),W="uniform sampler2D tDiffuse;\r\nuniform sampler2D tPerturb;\r\n\r\nuniform bool active;\r\n\r\nuniform float amount;\r\nuniform float angle;\r\nuniform float seed;\r\nuniform float seedX;\r\nuniform float seedY;\r\nuniform float distortionX;\r\nuniform float distortionY;\r\nuniform float colS;\r\n\r\nvarying vec2 vUv;\r\n\r\nfloat rand(vec2 tc) {\r\n\r\n\tconst float a = 12.9898;\r\n\tconst float b = 78.233;\r\n\tconst float c = 43758.5453;\r\n\r\n\tfloat dt = dot(tc, vec2(a, b));\r\n\tfloat sn = mod(dt, 3.14);\r\n\r\n\treturn fract(sin(sn) * c);\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec2 coord = vUv;\r\n\r\n\tfloat xs, ys;\r\n\tvec4 normal;\r\n\r\n\tvec2 offset;\r\n\tvec4 cr, cga, cb;\r\n\tvec4 snow, color;\r\n\r\n\tfloat sx, sy;\r\n\r\n\tif(active) {\r\n\r\n\t\txs = floor(gl_FragCoord.x / 0.5);\r\n\t\tys = floor(gl_FragCoord.y / 0.5);\r\n\r\n\t\tnormal = texture2D(tPerturb, coord * seed * seed);\r\n\r\n\t\tif(coord.y < distortionX + colS && coord.y > distortionX - colS * seed) {\r\n\r\n\t\t\tsx = clamp(ceil(seedX), 0.0, 1.0);\r\n\t\t\tcoord.y = sx * (1.0 - (coord.y + distortionY)) + (1.0 - sx) * distortionY;\r\n\r\n\t\t}\r\n\r\n\t\tif(coord.x < distortionY + colS && coord.x > distortionY - colS * seed) {\r\n\r\n\t\t\tsy = clamp(ceil(seedY), 0.0, 1.0);\r\n\t\t\tcoord.x = sy * distortionX + (1.0 - sy) * (1.0 - (coord.x + distortionX));\r\n\r\n\t\t}\r\n\r\n\t\tcoord.x += normal.x * seedX * (seed / 5.0);\r\n\t\tcoord.y += normal.y * seedY * (seed / 5.0);\r\n\r\n\t\toffset = amount * vec2(cos(angle), sin(angle));\r\n\r\n\t\tcr = texture2D(tDiffuse, coord + offset);\r\n\t\tcga = texture2D(tDiffuse, coord);\r\n\t\tcb = texture2D(tDiffuse, coord - offset);\r\n\r\n\t\tcolor = vec4(cr.r, cga.g, cb.b, cga.a);\r\n\t\tsnow = 200.0 * amount * vec4(rand(vec2(xs * seed, ys * seed * 50.0)) * 0.2);\r\n\t\tcolor += snow;\r\n\r\n\t} else {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",X="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",K=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"GlitchMaterial",uniforms:{tDiffuse:new w.Uniform(null),tPerturb:new w.Uniform(null),active:new w.Uniform(1),amount:new w.Uniform(.8),angle:new w.Uniform(.02),seed:new w.Uniform(.02),seedX:new w.Uniform(.02),seedY:new w.Uniform(.02),distortionX:new w.Uniform(.5),distortionY:new w.Uniform(.6),colS:new w.Uniform(.05)},fragmentShader:W,vertexShader:X,depthWrite:!1,depthTest:!1}))}return c(t,e),t}(w.ShaderMaterial),q="#include <common>\r\n#include <dithering_pars_fragment>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform vec3 lightPosition;\r\n\r\nuniform float exposure;\r\nuniform float decay;\r\nuniform float density;\r\nuniform float weight;\r\nuniform float clampMax;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec2 texCoord = vUv;\r\n\r\n\t// Calculate vector from pixel to light source in screen space.\r\n\tvec2 deltaTexCoord = texCoord - lightPosition.st;\r\n\tdeltaTexCoord *= 1.0 / NUM_SAMPLES_FLOAT * density;\r\n\r\n\t// A decreasing illumination factor.\r\n\tfloat illuminationDecay = 1.0;\r\n\r\n\tvec4 sample;\r\n\tvec4 color = vec4(0.0);\r\n\r\n\t// Estimate the probability of occlusion at each pixel by summing samples along a ray to the light source.\r\n\tfor(int i = 0; i < NUM_SAMPLES_INT; ++i) {\r\n\r\n\t\ttexCoord -= deltaTexCoord;\r\n\t\tsample = texture2D(tDiffuse, texCoord);\r\n\r\n\t\t// Apply sample attenuation scale/decay factors.\r\n\t\tsample *= illuminationDecay * weight;\r\n\r\n\t\tcolor += sample;\r\n\r\n\t\t// Update exponential decay factor.\r\n\t\tilluminationDecay *= decay;\r\n\r\n\t}\r\n\r\n\tgl_FragColor = clamp(color * exposure, 0.0, clampMax);\r\n\r\n\t#include <dithering_fragment>\r\n\r\n}\r\n",J="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",Z=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=Object.assign({exposure:.6,density:.93,decay:.96,weight:.4,clampMax:1},e);return d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{type:"GodRaysMaterial",defines:{NUM_SAMPLES_FLOAT:"60.0",NUM_SAMPLES_INT:"60"},uniforms:{tDiffuse:new w.Uniform(null),lightPosition:new w.Uniform(null),exposure:new w.Uniform(t.exposure),decay:new w.Uniform(t.decay),density:new w.Uniform(t.density),weight:new w.Uniform(t.weight),clampMax:new w.Uniform(t.clampMax)},fragmentShader:q,vertexShader:J,depthWrite:!1,depthTest:!1}))}return c(n,e),n}(w.ShaderMaterial),_="#include <common>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform float distinction;\r\nuniform vec2 range;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tfloat l = linearToRelativeLuminance(texel.rgb);\r\n\r\n\t#ifdef RANGE\r\n\r\n\t\tfloat low = step(range.x, l);\r\n\t\tfloat high = step(l, range.y);\r\n\r\n\t\t// Apply the mask.\r\n\t\tl *= low * high;\r\n\r\n\t#endif\r\n\r\n\tl = pow(abs(l), distinction);\r\n\r\n\t#ifdef COLOR\r\n\r\n\t\tgl_FragColor = vec4(texel.rgb * l, texel.a);\r\n\r\n\t#else\r\n\r\n\t\tgl_FragColor = vec4(l, l, l, texel.a);\r\n\r\n\t#endif\r\n\r\n}\r\n",$="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",ee=function(e){function i(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;l(this,i);var n=null!==t,r=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,{type:"LuminosityMaterial",uniforms:{tDiffuse:new w.Uniform(null),distinction:new w.Uniform(1),range:new w.Uniform(n?t:new w.Vector2)},fragmentShader:_,vertexShader:$}));return r.setColorOutputEnabled(e),r.setLuminanceRangeEnabled(n),r}return c(i,e),u(i,[{key:"setColorOutputEnabled",value:function(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}},{key:"setLuminanceRangeEnabled",value:function(e){e?this.defines.RANGE="1":delete this.defines.RANGE,this.needsUpdate=!0}}]),i}(w.ShaderMaterial),te="uniform sampler2D tDiffuse;\r\nuniform sampler2D tMask;\r\nuniform sampler2D tEdges;\r\n\r\nuniform vec3 visibleEdgeColor;\r\nuniform vec3 hiddenEdgeColor;\r\nuniform float pulse;\r\nuniform float edgeStrength;\r\n\r\n#ifdef USE_PATTERN\r\n\r\n\tuniform sampler2D tPattern;\r\n\tvarying vec2 vPatternCoord;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 color = texture2D(tDiffuse, vUv);\r\n\tvec2 edge = texture2D(tEdges, vUv).rg;\r\n\tvec2 mask = texture2D(tMask, vUv).rg;\r\n\r\n\t#ifndef X_RAY\r\n\r\n\t\tedge.y = 0.0;\r\n\r\n\t#endif\r\n\r\n\tedge *= (edgeStrength * mask.x * pulse);\r\n\tvec3 outlineColor = edge.x * visibleEdgeColor + edge.y * hiddenEdgeColor;\r\n\r\n\t#ifdef ALPHA_BLENDING\r\n\r\n\t\tcolor.rgb = mix(color.rgb, outlineColor, max(edge.x, edge.y));\r\n\r\n\t#else\r\n\r\n\t\tcolor.rgb += outlineColor;\r\n\r\n\t#endif\r\n\r\n\t#ifdef USE_PATTERN\r\n\r\n\t\tvec3 patternColor = texture2D(tPattern, vPatternCoord).rgb;\r\n\r\n\t\t#ifdef X_RAY\r\n\r\n\t\t\tfloat hiddenFactor = 0.5;\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat hiddenFactor = 0.0;\r\n\r\n\t\t#endif\r\n\r\n\t\tfloat visibilityFactor = (1.0 - mask.y > 0.0) ? 1.0 : hiddenFactor;\r\n\r\n\t\tcolor.rgb += visibilityFactor * (1.0 - mask.x) * (1.0 - patternColor);\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",ne="#ifdef USE_PATTERN\r\n\r\n\tuniform float aspect;\r\n\tuniform float patternScale;\r\n\tvarying vec2 vPatternCoord;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\t#ifdef USE_PATTERN\r\n\r\n\t\tvec2 aspectCorrection = vec2(aspect, 1.0);\r\n\t\tvPatternCoord = uv * aspectCorrection * patternScale;\r\n\r\n\t#endif\r\n\r\n\tvUv = uv;\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",re=function(e){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,r);var t=Object.assign({edgeStrength:1,patternScale:1,visibleEdgeColor:16777215,hiddenEdgeColor:2230538,alphaBlending:!1,xRay:!0},e),n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{type:"OutlineBlendMaterial",uniforms:{pulse:new w.Uniform(1),aspect:new w.Uniform(1),tDiffuse:new w.Uniform(null),tMask:new w.Uniform(null),tEdges:new w.Uniform(null),tPattern:new w.Uniform(null),edgeStrength:new w.Uniform(t.edgeStrength),patternScale:new w.Uniform(t.patternScale),visibleEdgeColor:new w.Uniform(new w.Color(t.visibleEdgeColor)),hiddenEdgeColor:new w.Uniform(new w.Color(t.hiddenEdgeColor))},fragmentShader:te,vertexShader:ne,depthWrite:!1,depthTest:!1}));return n.setAlphaBlendingEnabled(t.alphaBlending),n.setXRayEnabled(t.xRay),n}return c(r,e),u(r,[{key:"setAlphaBlendingEnabled",value:function(e){e?this.defines.ALPHA_BLENDING="1":delete this.defines.ALPHA_BLENDING,this.needsUpdate=!0}},{key:"setXRayEnabled",value:function(e){e?this.defines.X_RAY="1":delete this.defines.X_RAY,this.needsUpdate=!0}},{key:"setPatternTexture",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e?this.defines.USE_PATTERN="1":delete this.defines.USE_PATTERN,this.uniforms.tPattern.value=e,this.needsUpdate=!0}}]),r}(w.ShaderMaterial),ie="uniform sampler2D tMask;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvec2 c0 = texture2D(tMask, vUv0).rg;\r\n\tvec2 c1 = texture2D(tMask, vUv1).rg;\r\n\tvec2 c2 = texture2D(tMask, vUv2).rg;\r\n\tvec2 c3 = texture2D(tMask, vUv3).rg;\r\n\r\n\tfloat d0 = (c0.x - c1.x) * 0.5;\r\n\tfloat d1 = (c2.x - c3.x) * 0.5;\r\n\tfloat d = length(vec2(d0, d1));\r\n\r\n\tfloat a0 = min(c0.y, c1.y);\r\n\tfloat a1 = min(c2.y, c3.y);\r\n\tfloat visibilityFactor = min(a0, a1);\r\n\r\n\tgl_FragColor.rg = (1.0 - visibilityFactor > 0.001) ? vec2(d, 0.0) : vec2(0.0, d);\r\n\r\n}\r\n",ae="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv0;\r\nvarying vec2 vUv1;\r\nvarying vec2 vUv2;\r\nvarying vec2 vUv3;\r\n\r\nvoid main() {\r\n\r\n\tvUv0 = vec2(uv.x + texelSize.x, uv.y);\r\n\tvUv1 = vec2(uv.x - texelSize.x, uv.y);\r\n\tvUv2 = vec2(uv.x, uv.y + texelSize.y);\r\n\tvUv3 = vec2(uv.x, uv.y - texelSize.y);\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",se=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new w.Vector2;l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{type:"OutlineEdgesMaterial",uniforms:{tMask:new w.Uniform(null),texelSize:new w.Uniform(new w.Vector2)},fragmentShader:ie,vertexShader:ae,depthWrite:!1,depthTest:!1}));return t.setTexelSize(e.x,e.y),t}return c(n,e),u(n,[{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t)}}]),n}(w.ShaderMaterial),oe="uniform sampler2D tDiffuse;\r\nuniform float granularity;\r\nuniform float dx;\r\nuniform float dy;\r\n\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel;\r\n\r\n\tif(granularity > 0.0) {\r\n\r\n\t\tvec2 coord = vec2(\r\n\t\t\tdx * (floor(vUv.x / dx) + 0.5),\r\n\t\t\tdy * (floor(vUv.y / dy) + 0.5)\r\n\t\t);\r\n\r\n\t\ttexel = texture2D(tDiffuse, coord);\r\n\r\n\t} else {\r\n\r\n\t\ttexel = texture2D(tDiffuse, vUv);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = texel;\r\n\r\n}\r\n",le="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",ue=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"PixelationMaterial",uniforms:{tDiffuse:new w.Uniform(null),granularity:new w.Uniform(1),resolution:new w.Uniform(new w.Vector2(1,1)),dx:new w.Uniform(1),dy:new w.Uniform(1)},fragmentShader:oe,vertexShader:le,depthWrite:!1,depthTest:!1}))}return c(t,e),u(t,[{key:"setResolution",value:function(e,t){this.uniforms.resolution.value.set(e,t),this.granularity=this.granularity}},{key:"granularity",get:function(){return this.uniforms.granularity.value},set:function(e){var t=this.uniforms,n=t.resolution.value;t.granularity.value=e,t.dx.value=e/n.x,t.dy.value=e/n.y}}]),t}(w.ShaderMaterial),he="#include <common>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform sampler2D tDepth;\r\n\r\nuniform vec2 texelSize;\r\nuniform vec2 halfTexelSize;\r\n\r\nuniform float cameraNear;\r\nuniform float cameraFar;\r\n\r\nuniform float focalLength;\r\nuniform float focalStop;\r\n\r\nuniform float maxBlur;\r\nuniform float luminanceThreshold;\r\nuniform float luminanceGain;\r\nuniform float bias;\r\nuniform float fringe;\r\nuniform float ditherStrength;\r\n\r\n#ifdef SHADER_FOCUS\r\n\r\n\tuniform vec2 focusCoords;\r\n\r\n#else\r\n\r\n\tuniform float focalDepth;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\n#ifndef USE_LOGDEPTHBUF\r\n\r\n\t#include <packing>\r\n\r\n\tfloat readDepth(sampler2D depthSampler, vec2 coord) {\r\n\r\n\t\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\r\n\t\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\r\n\r\n\t\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef PENTAGON\r\n\r\n\tfloat penta(vec2 coords) {\r\n\r\n\t\tconst vec4 HS0 = vec4( 1.0,          0.0,         0.0, 1.0);\r\n\t\tconst vec4 HS1 = vec4( 0.309016994,  0.951056516, 0.0, 1.0);\r\n\t\tconst vec4 HS2 = vec4(-0.809016994,  0.587785252, 0.0, 1.0);\r\n\t\tconst vec4 HS3 = vec4(-0.809016994, -0.587785252, 0.0, 1.0);\r\n\t\tconst vec4 HS4 = vec4( 0.309016994, -0.951056516, 0.0, 1.0);\r\n\t\tconst vec4 HS5 = vec4( 0.0,          0.0,         1.0, 1.0);\r\n\r\n\t\tconst vec4 ONE = vec4(1.0);\r\n\r\n\t\tconst float P_FEATHER = 0.4;\r\n\t\tconst float N_FEATHER = -P_FEATHER;\r\n\r\n\t\tfloat inOrOut = -4.0;\r\n\r\n\t\tvec4 P = vec4(coords, vec2(RINGS_FLOAT - 1.3));\r\n\r\n\t\tvec4 dist = vec4(\r\n\t\t\tdot(P, HS0),\r\n\t\t\tdot(P, HS1),\r\n\t\t\tdot(P, HS2),\r\n\t\t\tdot(P, HS3)\r\n\t\t);\r\n\r\n\t\tdist = smoothstep(N_FEATHER, P_FEATHER, dist);\r\n\r\n\t\tinOrOut += dot(dist, ONE);\r\n\r\n\t\tdist.x = dot(P, HS4);\r\n\t\tdist.y = HS5.w - abs(P.z);\r\n\r\n\t\tdist = smoothstep(N_FEATHER, P_FEATHER, dist);\r\n\t\tinOrOut += dist.x;\r\n\r\n\t\treturn clamp(inOrOut, 0.0, 1.0);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef SHOW_FOCUS\r\n\r\n\tvec3 debugFocus(vec3 c, float blur, float depth) {\r\n\r\n\t\tfloat edge = 0.002 * depth;\r\n\t\tfloat m = clamp(smoothstep(0.0, edge, blur), 0.0, 1.0);\r\n\t\tfloat e = clamp(smoothstep(1.0 - edge, 1.0, blur), 0.0, 1.0);\r\n\r\n\t\tc = mix(c, vec3(1.0, 0.5, 0.0), (1.0 - m) * 0.6);\r\n\t\tc = mix(c, vec3(0.0, 0.5, 1.0), ((1.0 - e) - (1.0 - m)) * 0.2);\r\n\r\n\t\treturn c;\r\n\r\n\t}\r\n\r\n#endif\r\n\r\n#ifdef VIGNETTE\r\n\r\n\tfloat vignette() {\r\n\r\n\t\tconst vec2 CENTER = vec2(0.5);\r\n\r\n\t\tconst float VIGNETTE_OUT = 1.3;\r\n\t\tconst float VIGNETTE_IN = 0.0;\r\n\t\tconst float VIGNETTE_FADE = 22.0; \r\n\r\n\t\tfloat d = distance(vUv, CENTER);\r\n\t\td = smoothstep(VIGNETTE_OUT + (focalStop / VIGNETTE_FADE), VIGNETTE_IN + (focalStop / VIGNETTE_FADE), d);\r\n\r\n\t\treturn clamp(d, 0.0, 1.0);\r\n\r\n\t}\r\n\r\n#endif\r\n\r\nvec2 rand2(vec2 coord) {\r\n\r\n\tvec2 noise;\r\n\r\n\t#ifdef NOISE\r\n\r\n\t\tconst float a = 12.9898;\r\n\t\tconst float b = 78.233;\r\n\t\tconst float c = 43758.5453;\r\n\r\n\t\tnoise.x = clamp(fract(sin(mod(dot(coord, vec2(a, b)), 3.14)) * c), 0.0, 1.0) * 2.0 - 1.0;\r\n\t\tnoise.y = clamp(fract(sin(mod(dot(coord, vec2(a, b) * 2.0), 3.14)) * c), 0.0, 1.0) * 2.0 - 1.0;\r\n\r\n\t#else\r\n\r\n\t\tnoise.x = ((fract(1.0 - coord.s * halfTexelSize.x) * 0.25) + (fract(coord.t * halfTexelSize.y) * 0.75)) * 2.0 - 1.0;\r\n\t\tnoise.y = ((fract(1.0 - coord.s * halfTexelSize.x) * 0.75) + (fract(coord.t * halfTexelSize.y) * 0.25)) * 2.0 - 1.0;\r\n\r\n\t#endif\r\n\r\n\treturn noise;\r\n\r\n}\r\n\r\nvec3 processTexel(vec2 coords, float blur) {\r\n\r\n\tvec3 c;\r\n\tc.r = texture2D(tDiffuse, coords + vec2(0.0, 1.0) * texelSize * fringe * blur).r;\r\n\tc.g = texture2D(tDiffuse, coords + vec2(-0.866, -0.5) * texelSize * fringe * blur).g;\r\n\tc.b = texture2D(tDiffuse, coords + vec2(0.866, -0.5) * texelSize * fringe * blur).b;\r\n\r\n\t// Calculate the luminance of the constructed colour.\r\n\tfloat luminance = linearToRelativeLuminance(c);\r\n\tfloat threshold = max((luminance - luminanceThreshold) * luminanceGain, 0.0);\r\n\r\n\treturn c + mix(vec3(0.0), c, threshold * blur);\r\n\r\n}\r\n\r\nfloat linearize(float depth) {\r\n\r\n\treturn -cameraFar * cameraNear / (depth * (cameraFar - cameraNear) - cameraFar);\r\n\r\n}\r\n\r\nfloat gather(float i, float j, float ringSamples, inout vec3 color, float w, float h, float blur) {\r\n\r\n\tconst float TWO_PI = 6.28318531;\r\n\r\n\tfloat step = TWO_PI / ringSamples;\r\n\tfloat pw = cos(j * step) * i;\r\n\tfloat ph = sin(j * step) * i;\r\n\r\n\t#ifdef PENTAGON\r\n\r\n\t\tfloat p = penta(vec2(pw, ph));\r\n\r\n\t#else\r\n\r\n\t\tfloat p = 1.0;\r\n\r\n\t#endif\r\n\r\n\tcolor += processTexel(vUv + vec2(pw * w, ph * h), blur) * mix(1.0, i / RINGS_FLOAT, bias) * p;\r\n\r\n\treturn mix(1.0, i / RINGS_FLOAT, bias) * p;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\t#ifdef USE_LOGDEPTHBUF\r\n\r\n\t\tfloat depth = linearize(texture2D(tDepth, vUv).x);\r\n\r\n\t#else\r\n\r\n\t\tfloat depth = linearize(readDepth(tDepth, vUv));\r\n\r\n\t#endif\r\n\r\n\t#ifdef SHADER_FOCUS\r\n\r\n\t\t#ifdef USE_LOGDEPTHBUF\r\n\r\n\t\t\tfloat fDepth = linearize(texture2D(tDepth, focusCoords).x);\r\n\r\n\t\t#else\r\n\r\n\t\t\tfloat fDepth = linearize(readDepth(tDepth, focusCoords));\r\n\r\n\t\t#endif\r\n\r\n\t#else\r\n\r\n\t\tfloat fDepth = focalDepth;\r\n\r\n\t#endif\r\n\r\n\t#ifdef MANUAL_DOF\r\n\r\n\t\tconst float nDoFStart = 1.0; \r\n\t\tconst float nDoFDist = 2.0;\r\n\t\tconst float fDoFStart = 1.0;\r\n\t\tconst float fDoFDist = 3.0;\r\n\r\n\t\tfloat focalPlane = depth - fDepth;\r\n\t\tfloat farDoF = (focalPlane - fDoFStart) / fDoFDist;\r\n\t\tfloat nearDoF = (-focalPlane - nDoFStart) / nDoFDist;\r\n\r\n\t\tfloat blur = (focalPlane > 0.0) ? farDoF : nearDoF;\r\n\r\n\t#else\r\n\r\n\t\tconst float CIRCLE_OF_CONFUSION = 0.03; // 35mm film = 0.03mm CoC.\r\n\r\n\t\tfloat focalPlaneMM = fDepth * 1000.0;\r\n\t\tfloat depthMM = depth * 1000.0;\r\n\r\n\t\tfloat focalPlane = (depthMM * focalLength) / (depthMM - focalLength);\r\n\t\tfloat farDoF = (focalPlaneMM * focalLength) / (focalPlaneMM - focalLength);\r\n\t\tfloat nearDoF = (focalPlaneMM - focalLength) / (focalPlaneMM * focalStop * CIRCLE_OF_CONFUSION);\r\n\r\n\t\tfloat blur = abs(focalPlane - farDoF) * nearDoF;\r\n\r\n\t#endif\r\n\r\n\tblur = clamp(blur, 0.0, 1.0);\r\n\r\n\t// Dithering.\r\n\tvec2 noise = rand2(vUv) * ditherStrength * blur;\r\n\r\n\tfloat blurFactorX = texelSize.x * blur * maxBlur + noise.x;\r\n\tfloat blurFactorY = texelSize.y * blur * maxBlur + noise.y;\r\n\r\n\tconst int MAX_RING_SAMPLES = RINGS_INT * SAMPLES_INT;\r\n\r\n\t// Calculation of final color.\r\n\tvec4 color;\r\n\r\n\tif(blur < 0.05) {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t} else {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv);\r\n\r\n\t\tfloat s = 1.0;\r\n\t\tint ringSamples;\r\n\r\n\t\tfor(int i = 1; i <= RINGS_INT; ++i) {\r\n\r\n\t\t\tringSamples = i * SAMPLES_INT;\r\n\r\n\t\t\t// Constant loop.\r\n\t\t\tfor(int j = 0; j < MAX_RING_SAMPLES; ++j) {\r\n\r\n\t\t\t\t// Break earlier.\r\n\t\t\t\tif(j >= ringSamples) { break; }\r\n\r\n\t\t\t\ts += gather(float(i), float(j), float(ringSamples), color.rgb, blurFactorX, blurFactorY, blur);\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tcolor.rgb /= s; // Divide by sample count.\r\n\r\n\t}\r\n\r\n\t#ifdef SHOW_FOCUS\r\n\r\n\t\tcolor.rgb = debugFocus(color.rgb, blur, depth);\r\n\r\n\t#endif\r\n\r\n\t#ifdef VIGNETTE\r\n\r\n\t\tcolor.rgb *= vignette();\r\n\r\n\t#endif\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",ce="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",de=function(e){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,i);var n=Object.assign({texelSize:null,rings:3,samples:2,showFocus:!1,manualDoF:!1,vignette:!1,pentagon:!1,shaderFocus:!0,noise:!0,maxBlur:1,luminanceThreshold:.5,luminanceGain:2,bias:.5,fringe:.7,ditherStrength:1e-4},t),r=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,{type:"RealisticBokehMaterial",defines:{RINGS_INT:n.rings.toFixed(0),RINGS_FLOAT:n.rings.toFixed(1),SAMPLES_INT:n.samples.toFixed(0),SAMPLES_FLOAT:n.samples.toFixed(1)},uniforms:{tDiffuse:new w.Uniform(null),tDepth:new w.Uniform(null),texelSize:new w.Uniform(new w.Vector2),halfTexelSize:new w.Uniform(new w.Vector2),cameraNear:new w.Uniform(.1),cameraFar:new w.Uniform(2e3),focalLength:new w.Uniform(24),focalStop:new w.Uniform(.9),maxBlur:new w.Uniform(n.maxBlur),luminanceThreshold:new w.Uniform(n.luminanceThreshold),luminanceGain:new w.Uniform(n.luminanceGain),bias:new w.Uniform(n.bias),fringe:new w.Uniform(n.fringe),ditherStrength:new w.Uniform(n.ditherStrength),focusCoords:new w.Uniform(new w.Vector2(.5,.5)),focalDepth:new w.Uniform(1)},fragmentShader:he,vertexShader:ce,depthWrite:!1,depthTest:!1}));return r.setShowFocusEnabled(n.showFocus),r.setManualDepthOfFieldEnabled(n.manualDoF),r.setVignetteEnabled(n.vignette),r.setPentagonEnabled(n.pentagon),r.setShaderFocusEnabled(n.shaderFocus),r.setNoiseEnabled(n.noise),null!==n.texelSize&&r.setTexelSize(n.texelSize.x,n.texelSize.y),r.adoptCameraSettings(e),r}return c(i,e),u(i,[{key:"setShowFocusEnabled",value:function(e){e?this.defines.SHOW_FOCUS="1":delete this.defines.SHOW_FOCUS,this.needsUpdate=!0}},{key:"setManualDepthOfFieldEnabled",value:function(e){e?this.defines.MANUAL_DOF="1":delete this.defines.MANUAL_DOF,this.needsUpdate=!0}},{key:"setVignetteEnabled",value:function(e){e?this.defines.VIGNETTE="1":delete this.defines.VIGNETTE,this.needsUpdate=!0}},{key:"setPentagonEnabled",value:function(e){e?this.defines.PENTAGON="1":delete this.defines.PENTAGON,this.needsUpdate=!0}},{key:"setShaderFocusEnabled",value:function(e){e?this.defines.SHADER_FOCUS="1":delete this.defines.SHADER_FOCUS,this.needsUpdate=!0}},{key:"setNoiseEnabled",value:function(e){e?this.defines.NOISE="1":delete this.defines.NOISE,this.needsUpdate=!0}},{key:"setTexelSize",value:function(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}},{key:"adoptCameraSettings",value:function(e){null!==e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,this.uniforms.focalLength.value=e.getFocalLength())}}]),i}(w.ShaderMaterial),fe="#include <common>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform vec2 center;\r\nuniform float aspect;\r\nuniform float waveSize;\r\nuniform float radius;\r\nuniform float maxRadius;\r\nuniform float amplitude;\r\n\r\nvarying vec2 vUv;\r\nvarying float vSize;\r\n\r\nvoid main() {\r\n\r\n\tvec2 aspectCorrection = vec2(aspect, 1.0);\r\n\r\n\tvec2 difference = vUv * aspectCorrection - center * aspectCorrection;\r\n\tfloat distance = sqrt(dot(difference, difference)) * vSize;\r\n\r\n\tvec2 displacement = vec2(0.0);\r\n\r\n\tif(distance > radius) {\r\n\r\n\t\tif(distance < radius + waveSize) {\r\n\r\n\t\t\tfloat angle = (distance - radius) * PI2 / waveSize;\r\n\t\t\tfloat cosSin = (1.0 - cos(angle)) * 0.5;\r\n\r\n\t\t\tfloat extent = maxRadius + waveSize;\r\n\t\t\tfloat decay = max(extent - distance * distance, 0.0) / extent;\r\n\r\n\t\t\tdisplacement = ((cosSin * amplitude * difference) / distance) * decay;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tgl_FragColor = texture2D(tDiffuse, vUv - displacement);\r\n\r\n}\r\n",ve="uniform float size;\r\nuniform float scale;\r\nuniform float cameraDistance;\r\n\r\nvarying vec2 vUv;\r\nvarying float vSize;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tvSize = (0.1 * cameraDistance) / size;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",ge=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=Object.assign({maxRadius:1,waveSize:.2,amplitude:.05},e);return d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{type:"ShockWaveMaterial",uniforms:{tDiffuse:new w.Uniform(null),center:new w.Uniform(new w.Vector2(.5,.5)),aspect:new w.Uniform(1),cameraDistance:new w.Uniform(1),size:new w.Uniform(1),radius:new w.Uniform(-t.waveSize),maxRadius:new w.Uniform(t.maxRadius),waveSize:new w.Uniform(t.waveSize),amplitude:new w.Uniform(t.amplitude)},fragmentShader:fe,vertexShader:ve,depthWrite:!1,depthTest:!1}))}return c(n,e),n}(w.ShaderMaterial),me="uniform sampler2D tDiffuse;\r\nuniform sampler2D tWeights;\r\n\r\nuniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset;\r\n\r\nvoid main() {\r\n\r\n\t// Fetch the blending weights for current pixel.\r\n\tvec4 a;\r\n\ta.xz = texture2D(tWeights, vUv).xz;\r\n\ta.y = texture2D(tWeights, vOffset.zw).g;\r\n\ta.w = texture2D(tWeights, vOffset.xy).a;\r\n\r\n\tvec4 color;\r\n\r\n\t// Check if there is any blending weight with a value greater than 0.0.\r\n\tif(dot(a, vec4(1.0)) < 1e-5) {\r\n\r\n\t\tcolor = texture2D(tDiffuse, vUv, 0.0);\r\n\r\n\t} else {\r\n\r\n\t\t/* Up to four lines can be crossing a pixel (one through each edge).\r\n\t\t * The line with the maximum weight for each direction is favoured.\r\n\t\t */\r\n\r\n\t\tvec2 offset;\r\n\t\toffset.x = a.a > a.b ? a.a : -a.b; // Left vs. right.\r\n\t\toffset.y = a.g > a.r ? -a.g : a.r; // Top vs. bottom (changed signs).\r\n\r\n\t\t// Go in the direction with the maximum weight (horizontal vs. vertical).\r\n\t\tif(abs(offset.x) > abs(offset.y)) {\r\n\r\n\t\t\toffset.y = 0.0;\r\n\r\n\t\t} else {\r\n\r\n\t\t\toffset.x = 0.0;\r\n\r\n\t\t}\r\n\r\n\t\t// Fetch the opposite color and lerp by hand.\r\n\t\tcolor = texture2D(tDiffuse, vUv, 0.0);\r\n\t\tvec2 coord = vUv + sign(offset) * texelSize;\r\n\t\tvec4 oppositeColor = texture2D(tDiffuse, coord, 0.0);\r\n\t\tfloat s = abs(offset.x) > abs(offset.y) ? abs(offset.x) : abs(offset.y);\r\n\r\n\t\t// Gamma correction.\r\n\t\tcolor.rgb = pow(abs(color.rgb), vec3(2.2));\r\n\t\toppositeColor.rgb = pow(abs(oppositeColor.rgb), vec3(2.2));\r\n\t\tcolor = mix(color, oppositeColor, s);\r\n\t\tcolor.rgb = pow(abs(color.rgb), vec3(1.0 / 2.2));\r\n\r\n\t}\r\n\r\n\tgl_FragColor = color;\r\n\r\n}\r\n",ye="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvOffset = uv.xyxy + texelSize.xyxy * vec4(1.0, 0.0, 0.0, -1.0); // Changed sign in W component.\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",pe=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new w.Vector2;return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"SMAABlendMaterial",uniforms:{tDiffuse:new w.Uniform(null),tWeights:new w.Uniform(null),texelSize:new w.Uniform(e)},fragmentShader:me,vertexShader:ye,depthWrite:!1,depthTest:!1}))}return c(t,e),t}(w.ShaderMaterial),Ae="#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + float(offset) * texelSize, 0.0)\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform sampler2D tArea;\r\nuniform sampler2D tSearch;\r\n\r\nuniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\nvec2 round(vec2 x) {\r\n\r\n\treturn sign(x) * floor(abs(x) + 0.5);\r\n\r\n}\r\n\r\nfloat searchLength(vec2 e, float bias, float scale) {\r\n\r\n\t// Not required if tSearch accesses are set to point.\r\n\t// const vec2 SEARCH_TEX_PIXEL_SIZE = 1.0 / vec2(66.0, 33.0);\r\n\t// e = vec2(bias, 0.0) + 0.5 * SEARCH_TEX_PIXEL_SIZE + e * vec2(scale, 1.0) * vec2(64.0, 32.0) * SEARCH_TEX_PIXEL_SIZE;\r\n\r\n\te.r = bias + e.r * scale;\r\n\r\n\treturn 255.0 * texture2D(tSearch, e, 0.0).r;\r\n\r\n}\r\n\r\nfloat searchXLeft(vec2 texCoord, float end) {\r\n\r\n\t/* @PSEUDO_GATHER4\r\n\t * This texCoord has been offset by (-0.25, -0.125) in the vertex shader to\r\n\t * sample between edge, thus fetching four edges in a row.\r\n\t * Sampling with different offsets in each direction allows to disambiguate\r\n\t * which edges are active from the four fetched ones.\r\n\t */\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord -= vec2(2.0, 0.0) * texelSize;\r\n\r\n\t\tif(!(texCoord.x > end && e.g > 0.8281 && e.r == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\t// Correct the previously applied offset (-0.25, -0.125).\r\n\ttexCoord.x += 0.25 * texelSize.x;\r\n\r\n\t// The searches are biased by 1, so adjust the coords accordingly.\r\n\ttexCoord.x += texelSize.x;\r\n\r\n\t// Disambiguate the length added by the last step.\r\n\ttexCoord.x += 2.0 * texelSize.x; // Undo last step.\r\n\ttexCoord.x -= texelSize.x * searchLength(e, 0.0, 0.5);\r\n\r\n\treturn texCoord.x;\r\n\r\n}\r\n\r\nfloat searchXRight(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(0.0, 1.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord += vec2(2.0, 0.0) * texelSize;\r\n\r\n\t\tif(!(texCoord.x < end && e.g > 0.8281 && e.r == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.x -= 0.25 * texelSize.x;\r\n\ttexCoord.x -= texelSize.x;\r\n\ttexCoord.x -= 2.0 * texelSize.x;\r\n\ttexCoord.x += texelSize.x * searchLength(e, 0.5, 0.5);\r\n\r\n\treturn texCoord.x;\r\n\r\n}\r\n\r\nfloat searchYUp(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord += vec2(0.0, 2.0) * texelSize; // Changed sign.\r\n\r\n\t\tif(!(texCoord.y > end && e.r > 0.8281 && e.g == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.y -= 0.25 * texelSize.y; // Changed sign.\r\n\ttexCoord.y -= texelSize.y; // Changed sign.\r\n\ttexCoord.y -= 2.0 * texelSize.y; // Changed sign.\r\n\ttexCoord.y += texelSize.y * searchLength(e.gr, 0.0, 0.5); // Changed sign.\r\n\r\n\treturn texCoord.y;\r\n\r\n}\r\n\r\nfloat searchYDown(vec2 texCoord, float end) {\r\n\r\n\tvec2 e = vec2(1.0, 0.0);\r\n\r\n\tfor(int i = 0; i < MAX_SEARCH_STEPS_INT; ++i ) {\r\n\r\n\t\te = texture2D(tDiffuse, texCoord, 0.0).rg;\r\n\t\ttexCoord -= vec2(0.0, 2.0) * texelSize; // Changed sign.\r\n\r\n\t\tif(!(texCoord.y < end && e.r > 0.8281 && e.g == 0.0)) { break; }\r\n\r\n\t}\r\n\r\n\ttexCoord.y += 0.25 * texelSize.y; // Changed sign.\r\n\ttexCoord.y += texelSize.y; // Changed sign.\r\n\ttexCoord.y += 2.0 * texelSize.y; // Changed sign.\r\n\ttexCoord.y -= texelSize.y * searchLength(e.gr, 0.5, 0.5); // Changed sign.\r\n\r\n\treturn texCoord.y;\r\n\r\n}\r\n\r\nvec2 area(vec2 dist, float e1, float e2, float offset) {\r\n\r\n\t// Rounding prevents precision errors of bilinear filtering.\r\n\tvec2 texCoord = AREATEX_MAX_DISTANCE * round(4.0 * vec2(e1, e2)) + dist;\r\n\r\n\t// Scale and bias for texel space translation.\r\n\ttexCoord = AREATEX_PIXEL_SIZE * texCoord + (0.5 * AREATEX_PIXEL_SIZE);\r\n\r\n\t// Move to proper place, according to the subpixel offset.\r\n\ttexCoord.y += AREATEX_SUBTEX_SIZE * offset;\r\n\r\n\treturn texture2D(tArea, texCoord, 0.0).rg;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 weights = vec4(0.0);\r\n\tvec4 subsampleIndices = vec4(0.0);\r\n\tvec2 e = texture2D(tDiffuse, vUv).rg;\r\n\r\n\tif(e.g > 0.0) {\r\n\r\n\t\t// Edge at north.\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the left.\r\n\t\tvec2 coords;\r\n\t\tcoords.x = searchXLeft(vOffset[0].xy, vOffset[2].x);\r\n\t\tcoords.y = vOffset[1].y; // vOffset[1].y = vUv.y - 0.25 * texelSize.y (@CROSSING_OFFSET)\r\n\t\td.x = coords.x;\r\n\r\n\t\t/* Now fetch the left crossing edges, two at a time using bilinear\r\n\t\tfiltering. Sampling at -0.25 (see @CROSSING_OFFSET) enables to discern what\r\n\t\tvalue each edge has. */\r\n\t\tfloat e1 = texture2D(tDiffuse, coords, 0.0).r;\r\n\r\n\t\t// Find the distance to the right.\r\n\t\tcoords.x = searchXRight(vOffset[0].zw, vOffset[2].y);\r\n\t\td.y = coords.x;\r\n\r\n\t\t/* Translate distances to pixel units for better interleave arithmetic and\r\n\t\tmemory accesses. */\r\n\t\td = d / texelSize.x - vPixCoord.x;\r\n\r\n\t\t// The area texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the right crossing edges.\r\n\t\tcoords.y -= texelSize.y; // WebGL port note: Added.\r\n\t\tfloat e2 = sampleLevelZeroOffset(tDiffuse, coords, ivec2(1, 0)).r;\r\n\r\n\t\t// Pattern recognised, now get the actual area.\r\n\t\tweights.rg = area(sqrtD, e1, e2, subsampleIndices.y);\r\n\r\n\t}\r\n\r\n\tif(e.r > 0.0) {\r\n\r\n\t\t// Edge at west.\r\n\t\tvec2 d;\r\n\r\n\t\t// Find the distance to the top.\r\n\t\tvec2 coords;\r\n\t\tcoords.y = searchYUp(vOffset[1].xy, vOffset[2].z);\r\n\t\tcoords.x = vOffset[0].x; // vOffset[1].x = vUv.x - 0.25 * texelSize.x;\r\n\t\td.x = coords.y;\r\n\r\n\t\t// Fetch the top crossing edges.\r\n\t\tfloat e1 = texture2D(tDiffuse, coords, 0.0).g;\r\n\r\n\t\t// Find the distance to the bottom.\r\n\t\tcoords.y = searchYDown(vOffset[1].zw, vOffset[2].w);\r\n\t\td.y = coords.y;\r\n\r\n\t\t// Distances in pixel units.\r\n\t\td = d / texelSize.y - vPixCoord.y;\r\n\r\n\t\t// The area texture is compressed quadratically.\r\n\t\tvec2 sqrtD = sqrt(abs(d));\r\n\r\n\t\t// Fetch the bottom crossing edges.\r\n\t\tcoords.y -= texelSize.y; // WebGL port note: Added.\r\n\t\tfloat e2 = sampleLevelZeroOffset(tDiffuse, coords, ivec2(0, 1)).g;\r\n\r\n\t\t// Get the area for this direction.\r\n\t\tweights.ba = area(sqrtD, e1, e2, subsampleIndices.x);\r\n\r\n\t}\r\n\r\n\tgl_FragColor = weights;\r\n\r\n}\r\n",xe="uniform vec2 texelSize;\r\n\r\nvarying vec2 vUv;\r\nvarying vec4 vOffset[3];\r\nvarying vec2 vPixCoord;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\r\n\tvPixCoord = uv / texelSize;\r\n\r\n\t// Offsets for the searches (see @PSEUDO_GATHER4).\r\n\tvOffset[0] = uv.xyxy + texelSize.xyxy * vec4(-0.25, 0.125, 1.25, 0.125); // Changed sign in Y and W components.\r\n\tvOffset[1] = uv.xyxy + texelSize.xyxy * vec4(-0.125, 0.25, -0.125, -1.25); //Changed sign in Y and W components.\r\n\r\n\t// This indicates the ends of the loops.\r\n\tvOffset[2] = vec4(vOffset[0].xz, vOffset[1].yw) + vec4(-2.0, 2.0, -2.0, 2.0) * texelSize.xxyy * MAX_SEARCH_STEPS_FLOAT;\r\n\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",we=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new w.Vector2;return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"8",MAX_SEARCH_STEPS_FLOAT:"8.0",AREATEX_MAX_DISTANCE:"16.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{tDiffuse:new w.Uniform(null),tArea:new w.Uniform(null),tSearch:new w.Uniform(null),texelSize:new w.Uniform(e)},fragmentShader:Ae,vertexShader:xe,depthWrite:!1,depthTest:!1}))}return c(t,e),u(t,[{key:"setOrthogonalSearchSteps",value:function(e){this.defines.MAX_SEARCH_STEPS_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=e.toFixed("1"),this.needsUpdate=!0}}]),t}(w.ShaderMaterial),Me="#include <common>\r\n#include <dithering_pars_fragment>\r\n\r\nuniform sampler2D tDiffuse;\r\nuniform float middleGrey;\r\nuniform float maxLuminance;\r\n\r\n#ifdef ADAPTED_LUMINANCE\r\n\r\n\tuniform sampler2D luminanceMap;\r\n\r\n#else\r\n\r\n\tuniform float averageLuminance;\r\n\r\n#endif\r\n\r\nvarying vec2 vUv;\r\n\r\nvec3 toneMap(vec3 c) {\r\n\r\n\t#ifdef ADAPTED_LUMINANCE\r\n\r\n\t\t// Get the calculated average luminance by sampling the center.\r\n\t\tfloat lumAvg = texture2D(luminanceMap, vec2(0.5)).r;\r\n\r\n\t#else\r\n\r\n\t\tfloat lumAvg = averageLuminance;\r\n\r\n\t#endif\r\n\r\n\t// Calculate the luminance of the current pixel.\r\n\tfloat lumPixel = linearToRelativeLuminance(c);\r\n\r\n\t// Apply the modified operator (Reinhard Eq. 4).\r\n\tfloat lumScaled = (lumPixel * middleGrey) / lumAvg;\r\n\r\n\tfloat lumCompressed = (lumScaled * (1.0 + (lumScaled / (maxLuminance * maxLuminance)))) / (1.0 + lumScaled);\r\n\r\n\treturn lumCompressed * c;\r\n\r\n}\r\n\r\nvoid main() {\r\n\r\n\tvec4 texel = texture2D(tDiffuse, vUv);\r\n\tgl_FragColor = vec4(toneMap(texel.rgb), texel.a);\r\n\r\n\t#include <dithering_fragment>\r\n\r\n}\r\n",ke="varying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n\tvUv = uv;\r\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n\r\n}\r\n",Ce=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:"ToneMappingMaterial",uniforms:{tDiffuse:new w.Uniform(null),luminanceMap:new w.Uniform(null),averageLuminance:new w.Uniform(1),maxLuminance:new w.Uniform(16),middleGrey:new w.Uniform(.6)},fragmentShader:Me,vertexShader:ke,depthWrite:!1,depthTest:!1}))}return c(t,e),t}(w.ShaderMaterial),De=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Pass",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new w.Scene,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new w.OrthographicCamera(-1,1,1,-1,0,1),r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new w.Mesh(new w.PlaneBufferGeometry(2,2),null);l(this,i),this.name=e,this.scene=t,this.camera=n,this.quad=r,null!==this.quad&&(this.quad.frustumCulled=!1,null!==this.scene&&this.scene.add(this.quad)),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0}return u(i,[{key:"render",value:function(e,t,n,r,i){throw new Error("Render method not implemented!")}},{key:"setSize",value:function(e,t){}},{key:"initialize",value:function(e,t){}},{key:"dispose",value:function(){var e=void 0,t=!0,n=!1,r=void 0;try{for(var i,a=Object.keys(this)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)null!==this[e=i.value]&&"function"==typeof this[e].dispose&&(this[e].dispose(),this[e]=null)}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}null!==this.material&&this.material.dispose()}},{key:"material",get:function(){return null!==this.quad?this.quad.material:null},set:function(e){null!==this.quad&&(this.quad.material=e)}}]),i}(),Se=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"BlurPass"));return t.renderTargetX=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,magFilter:w.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),t.renderTargetX.texture.name="Blur.TargetX",t.renderTargetX.texture.generateMipmaps=!1,t.renderTargetY=t.renderTargetX.clone(),t.renderTargetY.texture.name="Blur.TargetY",t.resolutionScale=void 0!==e.resolutionScale?e.resolutionScale:.5,t.convolutionMaterial=new z,t.ditheredConvolutionMaterial=new z,t.ditheredConvolutionMaterial.dithering=!0,t.dithering=!1,t.kernelSize=e.kernelSize,t}return c(n,De),u(n,[{key:"render",value:function(e,t,n,r,i){var a,s=this.scene,o=this.camera,l=this.renderTargetX,u=this.renderTargetY,h=this.convolutionMaterial,c=h.uniforms,d=h.getKernel(),f=t,v=void 0,g=void 0;for(this.material=h,g=0,a=d.length-1;g<a;++g)v=g%2==0?l:u,c.kernel.value=d[g],c.tDiffuse.value=f.texture,e.render(s,o,v),f=v;this.dithering&&(c=(h=this.ditheredConvolutionMaterial).uniforms,this.material=h),c.kernel.value=d[g],c.tDiffuse.value=f.texture,e.render(s,o,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){e=Math.max(1,Math.floor(e*this.resolutionScale)),t=Math.max(1,Math.floor(t*this.resolutionScale)),this.renderTargetX.setSize(e,t),this.renderTargetY.setSize(e,t),this.convolutionMaterial.setTexelSize(1/e,1/t),this.ditheredConvolutionMaterial.setTexelSize(1/e,1/t)}},{key:"initialize",value:function(e,t){t||(this.renderTargetX.texture.format=w.RGBFormat,this.renderTargetY.texture.format=w.RGBFormat)}},{key:"width",get:function(){return this.renderTargetX.width}},{key:"height",get:function(){return this.renderTargetX.height}},{key:"kernelSize",get:function(){return this.convolutionMaterial.kernelSize},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:O.LARGE;this.convolutionMaterial.kernelSize=e,this.ditheredConvolutionMaterial.kernelSize=e}}]),n}(),Ee=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"BloomPass"));return t.renderTarget=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,magFilter:w.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),t.renderTarget.texture.name="Bloom.Target",t.renderTarget.texture.generateMipmaps=!1,t.blurPass=new Se(e),t.combineMaterial=new P(void 0===e.screenMode||e.screenMode),t.intensity=e.intensity,t.luminosityMaterial=new ee(!0),t.distinction=e.distinction,t}return c(n,De),u(n,[{key:"render",value:function(e,t,n,r,i){var a=this.scene,s=this.camera,o=this.blurPass,l=this.luminosityMaterial,u=this.combineMaterial,h=this.renderTarget;(this.material=l).uniforms.tDiffuse.value=t.texture,e.render(a,s,h),o.render(e,h,h),this.blend&&((this.material=u).uniforms.texture1.value=t.texture,u.uniforms.texture2.value=h.texture,e.render(a,s,this.renderToScreen?null:n))}},{key:"setSize",value:function(e,t){this.blurPass.setSize(e,t),e=this.blurPass.width,t=this.blurPass.height,this.renderTarget.setSize(e,t)}},{key:"initialize",value:function(e,t){this.blurPass.initialize(e,t),t||(this.renderTarget.texture.format=w.RGBFormat)}},{key:"resolutionScale",get:function(){return this.blurPass.resolutionScale},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5;this.blurPass.resolutionScale=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:O.LARGE;this.blurPass.kernelSize=e}},{key:"intensity",get:function(){return this.combineMaterial.uniforms.opacity2.value},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.combineMaterial.uniforms.opacity2.value=e}},{key:"distinction",get:function(){return this.luminosityMaterial.uniforms.distinction.value},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.luminosityMaterial.uniforms.distinction.value=e}},{key:"dithering",get:function(){return this.blurPass.dithering},set:function(e){this.blurPass.dithering=e}},{key:"blend",get:function(){return this.needsSwap},set:function(e){this.needsSwap=e}},{key:"overlay",get:function(){return this.renderTarget.texture}}]),n}(),Pe=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"BokehPass"));return n.material=new M(e,t),n}return c(r,De),u(r,[{key:"render",value:function(e,t,n,r,i){this.material.uniforms.tDiffuse.value=t.texture,this.material.uniforms.tDepth.value=t.depthTexture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.material.uniforms.aspect.value=e/t}}]),r}(),be=function(e){function t(){l(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ClearMaskPass",null,null,null));return e.needsSwap=!1,e}return c(t,De),u(t,[{key:"render",value:function(e,t,n,r,i){e.state.buffers.stencil.setTest(!1)}}]),t}(),Be=new w.Color,ze=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"ClearPass",null,null,null));return t.clearColor=void 0!==e.clearColor?e.clearColor:null,t.clearAlpha=void 0!==e.clearAlpha?e.clearAlpha:0,t}return c(n,De),u(n,[{key:"render",value:function(e,t,n,r,i){var a=this.clearColor,s=void 0;null!==a&&(Be.copy(e.getClearColor()),s=e.getClearAlpha(),e.setClearColor(a,this.clearAlpha)),e.setRenderTarget(this.renderToScreen?null:n),e.clear(),null!==a&&e.setClearColor(Be,s)}}]),n}(),Te=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"DotScreenPass"));return t.material=new H(e),t}return c(n,De),u(n,[{key:"render",value:function(e,t,n,r,i){this.material.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){e=Math.max(1,e),t=Math.max(1,t),this.material.uniforms.offsetRepeat.value.z=e,this.material.uniforms.offsetRepeat.value.w=t}}]),n}(),Oe=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"FilmPass"));return t.material=new N(e),t.scanlineDensity=void 0===e.scanlineDensity?1.25:e.scanlineDensity,t.gridScale=void 0===e.gridScale?1:Math.max(e.gridScale,1e-6),t.gridLineWidth=void 0===e.gridLineWidth?0:Math.max(e.gridLineWidth,0),t}return c(n,De),u(n,[{key:"render",value:function(e,t,n,r,i){this.material.uniforms.tDiffuse.value=t.texture,this.material.uniforms.time.value+=r,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){var n=e/t,r=this.gridScale*(.125*t);this.material.uniforms.scanlineCount.value=Math.round(t*this.scanlineDensity),this.material.uniforms.gridScale.value.set(n*r,r),this.material.uniforms.gridLineWidth.value=r/t+this.gridLineWidth}}]),n}();function Ie(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Le(e,t){return e+Math.random()*(t-e)}var Fe=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"GlitchPass"));return t.material=new K,t.texture=null,t.perturbMap=void 0!==e.perturbMap?e.perturbMap:t.generatePerturbMap(e.dtSize),t.perturbMap.name="Glitch.Perturbation",t.perturbMap.generateMipmaps=!1,t.mode=Ue.SPORADIC,t.counter=0,t.breakPoint=Ie(120,240),t}return c(n,De),u(n,[{key:"generatePerturbMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:64,t=e*e,n=new Float32Array(3*t),r=this.perturbMap,i=void 0,a=void 0;for(i=0;i<t;++i)a=Math.random(),n[3*i]=a,n[3*i+1]=a,n[3*i+2]=a;return null!==r&&r.dispose(),(r=new w.DataTexture(n,e,e,w.RGBFormat,w.FloatType)).needsUpdate=!0,this.perturbMap=r}},{key:"render",value:function(e,t,n,r,i){var a=this.mode,s=this.counter,o=this.breakPoint,l=this.material.uniforms;l.tDiffuse.value=t.texture,l.seed.value=Math.random(),l.active.value=!0,s%o==0||a===Ue.CONSTANT_WILD?(l.amount.value=Math.random()/30,l.angle.value=Le(-Math.PI,Math.PI),l.seedX.value=Le(-1,1),l.seedY.value=Le(-1,1),l.distortionX.value=Le(0,1),l.distortionY.value=Le(0,1),this.breakPoint=Ie(120,240),this.counter=0):s%o<o/5||a===Ue.CONSTANT_MILD?(l.amount.value=Math.random()/90,l.angle.value=Le(-Math.PI,Math.PI),l.distortionX.value=Le(0,1),l.distortionY.value=Le(0,1),l.seedX.value=Le(-.3,.3),l.seedY.value=Le(-.3,.3)):l.active.value=!1,++this.counter,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"perturbMap",get:function(){return this.texture},set:function(e){this.texture=e,this.material.uniforms.tPerturb.value=e}}]),n}(),Ue={SPORADIC:0,CONSTANT_MILD:1,CONSTANT_WILD:2},Re=function(e){function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};l(this,i);var r=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"RenderPass",e,t,null));return r.clearPass=new ze(n),r.overrideMaterial=void 0!==n.overrideMaterial?n.overrideMaterial:null,r.clearDepth=void 0!==n.clearDepth&&n.clearDepth,r.clear=void 0===n.clear||n.clear,r}return c(i,De),u(i,[{key:"render",value:function(e,t,n,r,i){var a=this.scene,s=this.renderToScreen?null:n,o=a.overrideMaterial;this.clear?(this.clearPass.renderToScreen=this.renderToScreen,this.clearPass.render(e,t,n)):this.clearDepth&&(e.setRenderTarget(s),e.clearDepth()),a.overrideMaterial=this.overrideMaterial,e.render(a,this.camera,s),a.overrideMaterial=o}}]),i}();function Ge(e,t,n){return Math.max(t,Math.min(n,e))}var Qe=function(e){function a(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};l(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"GodRaysPass"));return i.lightScene=new w.Scene,i.mainScene=e,i.mainCamera=t,i.renderTargetX=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,magFilter:w.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),i.renderTargetX.texture.name="GodRays.TargetX",i.renderTargetX.texture.generateMipmaps=!1,i.renderTargetY=i.renderTargetX.clone(),i.renderTargetY.texture.name="GodRays.TargetY",i.renderTargetMask=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,magFilter:w.LinearFilter}),i.renderTargetMask.texture.name="GodRays.Mask",i.renderTargetMask.texture.generateMipmaps=!1,i.renderPassLight=new Re(i.lightScene,i.mainCamera,{clearColor:new w.Color(0)}),i.renderPassMask=new Re(i.mainScene,i.mainCamera,{overrideMaterial:new w.MeshBasicMaterial({color:0})}),i.renderPassMask.clear=!1,i.blurPass=new Se(r),i.lightSource=n,i.screenPosition=new w.Vector3,i.godRaysMaterial=new Z(r),i.godRaysMaterial.uniforms.lightPosition.value=i.screenPosition,i.samples=r.samples,i.combineMaterial=new P(void 0===r.screenMode||r.screenMode),i.intensity=r.intensity,i}return c(a,De),u(a,[{key:"render",value:function(e,t,n,r,i){var a,s=this.scene,o=this.camera,l=this.mainScene,u=this.lightSource,h=this.screenPosition,c=this.godRaysMaterial,d=this.combineMaterial,f=this.renderTargetMask,v=this.renderTargetX,g=this.renderTargetY,m=void 0;h.copy(u.position).project(this.mainCamera),h.x=Ge(.5*(h.x+1),0,1),h.y=Ge(.5*(h.y+1),0,1),m=u.parent,a=l.background,l.background=null,this.lightScene.add(u),this.renderPassLight.render(e,null,f),this.renderPassMask.render(e,null,f),null!==m&&m.add(u),l.background=a,this.blurPass.render(e,this.renderTargetMask,v),(this.material=c).uniforms.tDiffuse.value=v.texture,e.render(s,o,g),this.blend&&((this.material=d).uniforms.texture1.value=t.texture,d.uniforms.texture2.value=g.texture,e.render(s,o,this.renderToScreen?null:n))}},{key:"setSize",value:function(e,t){this.renderPassLight.setSize(e,t),this.renderPassMask.setSize(e,t),this.blurPass.setSize(e,t),e=this.blurPass.width,t=this.blurPass.height,this.renderTargetMask.setSize(e,t),this.renderTargetX.setSize(e,t),this.renderTargetY.setSize(e,t)}},{key:"initialize",value:function(e,t){this.renderPassLight.initialize(e,t),this.renderPassMask.initialize(e,t),this.blurPass.initialize(e,t),t||(this.renderTargetMask.texture.format=w.RGBFormat,this.renderTargetX.texture.format=w.RGBFormat,this.renderTargetY.texture.format=w.RGBFormat)}},{key:"resolutionScale",get:function(){return this.blurPass.resolutionScale},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5;this.blurPass.resolutionScale=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:O.LARGE;this.blurPass.kernelSize=e}},{key:"intensity",get:function(){return this.combineMaterial.uniforms.opacity2.value},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.combineMaterial.uniforms.opacity2.value=e}},{key:"samples",get:function(){return Number.parseInt(this.godRaysMaterial.defines.NUM_SAMPLES_INT)},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:60;e=Math.floor(e),this.godRaysMaterial.defines.NUM_SAMPLES_FLOAT=e.toFixed(1),this.godRaysMaterial.defines.NUM_SAMPLES_INT=e.toFixed(0),this.godRaysMaterial.needsUpdate=!0}},{key:"dithering",get:function(){return this.godRaysMaterial.dithering},set:function(e){this.dithering!==e&&(this.godRaysMaterial.dithering=e,this.godRaysMaterial.needsUpdate=!0)}},{key:"blend",get:function(){return this.needsSwap},set:function(e){this.needsSwap=e}},{key:"overlay",get:function(){return this.renderTargetY.texture}}]),a}(),Ye=function(e){function r(e,t){l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"MaskPass",e,t,null));return n.needsSwap=!1,n.inverse=!1,n.clearStencil=!0,n}return c(r,De),u(r,[{key:"render",value:function(e,t,n,r,i){var a=e.context,s=e.state,o=this.scene,l=this.camera,u=this.inverse?0:1,h=1-u;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),s.buffers.stencil.setFunc(a.ALWAYS,u,4294967295),s.buffers.stencil.setClear(h),this.clearStencil&&(this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),e.clearStencil(),e.setRenderTarget(n)),e.clearStencil()),this.renderToScreen?e.render(o,l,null):(e.render(o,l,t),e.render(o,l,n)),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setFunc(a.EQUAL,1,4294967295),s.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP)}}]),r}(),He=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"tDiffuse";l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"ShaderPass"));return n.material=e,n.textureID=t,n}return c(r,De),u(r,[{key:"render",value:function(e,t,n,r,i){void 0!==this.material.uniforms[this.textureID]&&(this.material.uniforms[this.textureID].value=t.texture),e.render(this.scene,this.camera,this.renderToScreen?null:n)}}]),r}(),Ve=function(e){function i(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};l(this,i);var r=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"OutlinePass"));return r.mainScene=e,r.mainCamera=t,r.renderTargetDepth=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,magFilter:w.LinearFilter}),r.renderTargetDepth.texture.name="Outline.Depth",r.renderTargetDepth.texture.generateMipmaps=!1,r.renderTargetMask=r.renderTargetDepth.clone(),r.renderTargetMask.texture.format=w.RGBFormat,r.renderTargetMask.texture.name="Outline.Mask",r.renderTargetEdges=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,magFilter:w.LinearFilter,stencilBuffer:!1,depthBuffer:!1,format:w.RGBFormat}),r.renderTargetEdges.texture.name="Outline.Edges",r.renderTargetEdges.texture.generateMipmaps=!1,r.renderTargetBlurredEdges=r.renderTargetEdges.clone(),r.renderTargetBlurredEdges.texture.name="Outline.BlurredEdges",r.renderPassDepth=new Re(r.mainScene,r.mainCamera,{overrideMaterial:new w.MeshDepthMaterial({depthPacking:w.RGBADepthPacking,morphTargets:!0,skinning:!0}),clearColor:new w.Color(16777215),clearAlpha:1}),r.renderPassMask=new Re(r.mainScene,r.mainCamera,{overrideMaterial:new G(r.renderTargetDepth.texture,r.mainCamera),clearColor:new w.Color(16777215),clearAlpha:1}),r.blurPass=new Se(n),r.kernelSize=n.kernelSize,r.copyPass=new He(new F),r.copyPass.renderToScreen=!0,r.outlineEdgesMaterial=new se(n),r.outlineEdgesMaterial.uniforms.tMask.value=r.renderTargetMask.texture,r.outlineBlendMaterial=new re(n),r.outlineBlendMaterial.uniforms.tMask.value=r.renderTargetMask.texture,r.blur=void 0===n.blur||n.blur,r.selection=[],r.time=0,r.pulseSpeed=void 0!==n.pulseSpeed?n.pulseSpeed:0,r.selectionLayer=10,r}return c(i,De),u(i,[{key:"setPatternTexture",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.outlineBlendMaterial.setPatternTexture(e)}},{key:"setSelection",value:function(e){var t,n=e.slice(0),r=this.selectionLayer,i=void 0;for(this.clearSelection(),i=0,t=n.length;i<t;++i)n[i].layers.enable(r);return this.selection=n,this}},{key:"clearSelection",value:function(){var e,t=this.selection,n=this.selectionLayer,r=void 0;for(r=0,e=t.length;r<e;++r)t[r].layers.disable(n);return this.selection=[],this.time=0,this}},{key:"selectObject",value:function(e){return e.layers.enable(this.selectionLayer),this.selection.push(e),this}},{key:"deselectObject",value:function(e){var t=this.selection,n=t.indexOf(e);return 0<=n&&(t[n].layers.disable(this.selectionLayer),t.splice(n,1),0===t.length&&(this.time=0)),this}},{key:"setSelectionVisible",value:function(e){var t,n=this.selection,r=void 0;for(r=0,t=n.length;r<t;++r)e?n[r].layers.enable(0):n[r].layers.disable(0)}},{key:"render",value:function(e,t,n,r,i){var a=this.mainScene,s=this.mainCamera,o=this.outlineBlendMaterial.uniforms.pulse,l=void 0,u=void 0;0<this.selection.length?(l=a.background,u=s.layers.mask,a.background=null,o.value=1,0<this.pulseSpeed&&(o.value=.625+.375*Math.cos(this.time*this.pulseSpeed*10),this.time+=r),this.setSelectionVisible(!1),this.renderPassDepth.render(e,null,this.renderTargetDepth),this.setSelectionVisible(!0),s.layers.mask=1<<this.selectionLayer,this.renderPassMask.render(e,null,this.renderTargetMask),s.layers.mask=u,a.background=l,this.material=this.outlineEdgesMaterial,e.render(this.scene,this.camera,this.renderTargetEdges),this.blurPass.enabled&&this.blurPass.render(e,this.renderTargetEdges,this.renderTargetBlurredEdges),this.blend&&(this.material=this.outlineBlendMaterial,this.outlineBlendMaterial.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:this.outputBuffer))):this.renderToScreen&&this.copyPass.render(e,t)}},{key:"setSize",value:function(e,t){this.renderTargetDepth.setSize(e,t),this.renderTargetMask.setSize(e,t),this.renderPassDepth.setSize(e,t),this.renderPassMask.setSize(e,t),this.blurPass.setSize(e,t),e=this.blurPass.width,t=this.blurPass.height,this.renderTargetEdges.setSize(e,t),this.renderTargetBlurredEdges.setSize(e,t),this.outlineBlendMaterial.uniforms.aspect.value=e/t,this.outlineEdgesMaterial.setTexelSize(1/e,1/t)}},{key:"initialize",value:function(e,t){this.renderPassDepth.initialize(e,t),this.renderPassMask.initialize(e,t),this.blurPass.initialize(e,t)}},{key:"resolutionScale",get:function(){return this.blurPass.resolutionScale},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5;this.blurPass.resolutionScale=e}},{key:"kernelSize",get:function(){return this.blurPass.kernelSize},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:O.VERY_SMALL;this.blurPass.kernelSize=e}},{key:"blur",get:function(){return this.blurPass.enabled},set:function(e){this.blurPass.enabled=e,this.outlineBlendMaterial.uniforms.tEdges.value=e?this.renderTargetBlurredEdges.texture:this.renderTargetEdges.texture}},{key:"dithering",get:function(){return this.blurPass.dithering},set:function(e){this.blurPass.dithering=e}},{key:"blend",get:function(){return this.needsSwap},set:function(e){this.needsSwap=e}},{key:"overlay",get:function(){return this.outlineBlendMaterial.uniforms.tEdges.value}}]),i}(),je=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:30;l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"PixelationPass"));return t.material=new ue,t.granularity=e,t}return c(n,De),u(n,[{key:"render",value:function(e,t,n,r,i){this.material.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.material.setResolution(e,t)}},{key:"granularity",get:function(){return this.material.granularity},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:30;0<(e=Math.floor(e))%2&&(e+=1),this.material.granularity=e}}]),n}(),Ne=function(e){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"RealisticBokehPass"));return n.material=new de(e,t),n}return c(r,De),u(r,[{key:"render",value:function(e,t,n,r,i){this.material.uniforms.tDiffuse.value=t.texture,this.material.uniforms.tDepth.value=t.depthTexture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.material.setTexelSize(1/e,1/t)}}]),r}(),We=function(e){function r(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"SavePass"));return n.material=new F,n.needsSwap=!1,n.renderTarget=void 0!==e?e:new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,magFilter:w.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),n.renderTarget.texture.name="Save.Target",n.renderTarget.texture.generateMipmaps=!1,n.resize=t,n}return c(r,De),u(r,[{key:"render",value:function(e,t,n,r,i){this.material.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderTarget)}},{key:"setSize",value:function(e,t){this.resize&&(e=Math.max(1,e),t=Math.max(1,t),this.renderTarget.setSize(e,t))}},{key:"initialize",value:function(e,t){t||(this.renderTarget.texture.format=w.RGBFormat)}}]),r}(),Xe=.5*Math.PI,Ke=new w.Vector3,qe=new w.Vector3,Je=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new w.Vector3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};l(this,i);var r=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"ShockWavePass"));return r.mainCamera=e,r.epicenter=t,r.screenPosition=new w.Vector3,r.speed=void 0!==n.speed?n.speed:2,r.time=0,r.active=!1,r.shockWaveMaterial=new ge(n),r.shockWaveMaterial.uniforms.center.value=r.screenPosition,r.copyMaterial=new F,r}return c(i,De),u(i,[{key:"explode",value:function(){this.time=0,this.active=!0}},{key:"render",value:function(e,t,n,r,i){var a=this.epicenter,s=this.mainCamera,o=this.screenPosition,l=this.shockWaveMaterial,u=l.uniforms,h=u.center,c=u.radius,d=u.maxRadius,f=u.waveSize;this.copyMaterial.uniforms.tDiffuse.value=t.texture,this.material=this.copyMaterial,this.active&&(s.getWorldDirection(Ke),qe.copy(s.position).sub(a),Ke.angleTo(qe)>Xe&&(u.cameraDistance.value=s.position.distanceTo(a),o.copy(a).project(s),h.value.x=.5*(o.x+1),h.value.y=.5*(o.y+1),u.tDiffuse.value=t.texture,this.material=l),this.time+=r*this.speed,c.value=this.time-f.value,c.value>=2*(d.value+f.value)&&(this.active=!1)),e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.shockWaveMaterial.uniforms.aspect.value=e/t}}]),i}(),Ze=function(e){function r(e,t){l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"SMAAPass"));return n.clearPass=new ze({clearColor:new w.Color(0),clearAlpha:1}),n.renderTargetColorEdges=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearFilter,format:w.RGBFormat,stencilBuffer:!1,depthBuffer:!1}),n.renderTargetColorEdges.texture.name="SMAA.ColorEdges",n.renderTargetColorEdges.texture.generateMipmaps=!1,n.renderTargetWeights=n.renderTargetColorEdges.clone(),n.renderTargetWeights.texture.name="SMAA.Weights",n.renderTargetWeights.texture.format=w.RGBAFormat,n.colorEdgesMaterial=new D,n.weightsMaterial=new we,n.weightsMaterial.uniforms.tDiffuse.value=n.renderTargetColorEdges.texture,n.searchTexture=new w.Texture(e),n.searchTexture.name="SMAA.Search",n.searchTexture.magFilter=w.NearestFilter,n.searchTexture.minFilter=w.NearestFilter,n.searchTexture.format=w.RGBAFormat,n.searchTexture.generateMipmaps=!1,n.searchTexture.needsUpdate=!0,n.searchTexture.flipY=!1,n.weightsMaterial.uniforms.tSearch.value=n.searchTexture,n.areaTexture=new w.Texture(t),n.areaTexture.name="SMAA.Area",n.areaTexture.minFilter=w.LinearFilter,n.areaTexture.format=w.RGBAFormat,n.areaTexture.generateMipmaps=!1,n.areaTexture.needsUpdate=!0,n.areaTexture.flipY=!1,n.weightsMaterial.uniforms.tArea.value=n.areaTexture,n.blendMaterial=new pe,n.blendMaterial.uniforms.tWeights.value=n.renderTargetWeights.texture,n}return c(r,De),u(r,[{key:"render",value:function(e,t,n,r,i){this.material=this.colorEdgesMaterial,this.colorEdgesMaterial.uniforms.tDiffuse.value=t.texture,this.clearPass.render(e,null,this.renderTargetColorEdges),e.render(this.scene,this.camera,this.renderTargetColorEdges),this.material=this.weightsMaterial,e.render(this.scene,this.camera,this.renderTargetWeights),this.material=this.blendMaterial,this.blendMaterial.uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"setSize",value:function(e,t){this.renderTargetColorEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t),this.colorEdgesMaterial.uniforms.texelSize.value.copy(this.weightsMaterial.uniforms.texelSize.value.copy(this.blendMaterial.uniforms.texelSize.value.set(1/e,1/t)))}}],[{key:"searchImageDataURL",get:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII"}},{key:"areaImageDataURL",get:function(){return"data:image/png;base64,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"}}]),r}(),_e=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];l(this,i);var r=d(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,"TexturePass"));return r.material=new P(n),r.texture=e,r.opacitySource=t,r}return c(i,De),u(i,[{key:"render",value:function(e,t,n,r,i){this.material.uniforms.texture1.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"texture",get:function(){return this.material.uniforms.texture2.value},set:function(e){this.material.uniforms.texture2.value=e}},{key:"opacityDestination",get:function(){return this.material.uniforms.opacity1.value},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.material.uniforms.opacity1.value=e}},{key:"opacitySource",get:function(){return this.material.uniforms.opacity2.value},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.material.uniforms.opacity2.value=e}}]),i}(),$e=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"ToneMappingPass"));return t.renderTargetLuminosity=new w.WebGLRenderTarget(1,1,{minFilter:w.LinearMipMapLinearFilter,magFilter:w.LinearFilter,format:w.RGBFormat,stencilBuffer:!1,depthBuffer:!1}),t.renderTargetLuminosity.texture.name="ToneMapping.Luminosity",t.renderTargetAdapted=t.renderTargetLuminosity.clone(),t.renderTargetAdapted.texture.name="ToneMapping.AdaptedLuminosity",t.renderTargetAdapted.texture.generateMipmaps=!1,t.renderTargetAdapted.texture.minFilter=w.LinearFilter,t.renderTargetPrevious=t.renderTargetAdapted.clone(),t.renderTargetPrevious.texture.name="ToneMapping.PreviousLuminosity",t.copyMaterial=new F,t.luminosityMaterial=new ee,t.luminosityMaterial.uniforms.distinction.value=void 0!==e.distinction?e.distinction:1,t.adaptiveLuminosityMaterial=new p,t.resolution=e.resolution,t.toneMappingMaterial=new Ce,t.adaptive=e.adaptive,t}return c(n,De),u(n,[{key:"render",value:function(e,t,n,r,i){var a=this.scene,s=this.camera,o=this.adaptiveLuminosityMaterial,l=this.luminosityMaterial,u=this.toneMappingMaterial,h=this.copyMaterial,c=this.renderTargetPrevious,d=this.renderTargetLuminosity,f=this.renderTargetAdapted;this.adaptive&&((this.material=l).uniforms.tDiffuse.value=t.texture,e.render(a,s,d),(this.material=o).uniforms.delta.value=r,o.uniforms.tPreviousLum.value=c.texture,o.uniforms.tCurrentLum.value=d.texture,e.render(a,s,f),(this.material=h).uniforms.tDiffuse.value=f.texture,e.render(a,s,c)),(this.material=u).uniforms.tDiffuse.value=t.texture,e.render(this.scene,this.camera,this.renderToScreen?null:n)}},{key:"initialize",value:function(e,t){this.material=new w.MeshBasicMaterial({color:8388607}),e.render(this.scene,this.camera,this.renderTargetPrevious),this.material.dispose()}},{key:"resolution",get:function(){return this.renderTargetLuminosity.width},set:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:256,t=Math.max(0,Math.ceil(Math.log2(e)));e=Math.pow(2,t),this.renderTargetLuminosity.setSize(e,e),this.renderTargetPrevious.setSize(e,e),this.renderTargetAdapted.setSize(e,e),this.adaptiveLuminosityMaterial.defines.MIP_LEVEL_1X1=t.toFixed(1),this.adaptiveLuminosityMaterial.needsUpdate=!0}},{key:"adaptive",get:function(){return void 0!==this.toneMappingMaterial.defines.ADAPTED_LUMINANCE},set:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?(this.toneMappingMaterial.defines.ADAPTED_LUMINANCE="1",this.toneMappingMaterial.uniforms.luminanceMap.value=this.renderTargetAdapted.texture):(delete this.toneMappingMaterial.defines.ADAPTED_LUMINANCE,this.toneMappingMaterial.uniforms.luminanceMap.value=null),this.toneMappingMaterial.needsUpdate=!0}},{key:"dithering",get:function(){return this.toneMappingMaterial.dithering},set:function(e){this.dithering!==e&&(this.toneMappingMaterial.dithering=e,this.toneMappingMaterial.needsUpdate=!0)}}]),n}(),et=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};l(this,n),this.renderer=e,this.inputBuffer=null,(this.outputBuffer=null)!==this.renderer&&(this.renderer.autoClear=!1,this.inputBuffer=this.createBuffer(void 0===t.depthBuffer||t.depthBuffer,void 0!==t.stencilBuffer&&t.stencilBuffer,void 0!==t.depthTexture&&t.depthTexture),this.outputBuffer=this.inputBuffer.clone()),this.copyPass=new He(new F),this.passes=[]}return u(n,[{key:"replaceRenderer",value:function(e){var t=this.renderer,n=void 0,r=void 0,i=void 0;return null!==t&&t!==e&&(this.renderer=e,this.renderer.autoClear=!1,n=t.domElement.parentNode,r=t.getSize(),i=e.getSize(),null!==n&&(n.removeChild(t.domElement),n.appendChild(e.domElement)),r.width===i.width&&r.height===i.height||this.setSize()),t}},{key:"createBuffer",value:function(e,t,n){var r=this.renderer.getDrawingBufferSize(),i=this.renderer.context.getContextAttributes().alpha,a=new w.WebGLRenderTarget(r.width,r.height,{minFilter:w.LinearFilter,magFilter:w.LinearFilter,format:i?w.RGBAFormat:w.RGBFormat,depthBuffer:e,stencilBuffer:t,depthTexture:n?new w.DepthTexture:null});return n&&t&&(a.depthTexture.format=w.DepthStencilFormat,a.depthTexture.type=w.UnsignedInt248Type),a.texture.name="EffectComposer.Buffer",a.texture.generateMipmaps=!1,a}},{key:"addPass",value:function(e,t){var n=this.renderer,r=n.getDrawingBufferSize();e.setSize(r.width,r.height),e.initialize(n,n.context.getContextAttributes().alpha),void 0!==t?this.passes.splice(t,0,e):this.passes.push(e)}},{key:"removePass",value:function(e){this.passes.splice(this.passes.indexOf(e),1)}},{key:"render",value:function(e){var t,n=this.passes,r=this.copyPass,i=this.renderer,a=this.inputBuffer,s=this.outputBuffer,o=!1,l=void 0,u=void 0,h=void 0,c=void 0,d=void 0;for(d=0,t=n.length;d<t;++d)(l=n[d]).enabled&&(l.render(i,a,s,e,o),l.needsSwap&&(o&&(r.renderToScreen=l.renderToScreen,u=i.context,(h=i.state).buffers.stencil.setFunc(u.NOTEQUAL,1,4294967295),r.render(i,a,s,e,o),h.buffers.stencil.setFunc(u.EQUAL,1,4294967295)),c=a,a=s,s=c),l instanceof Ye?o=!0:l instanceof be&&(o=!1))}},{key:"setSize",value:function(e,t){var n,r,i=this.passes,a=this.renderer,s=void 0,o=void 0;for(void 0!==e&&void 0!==t||(e=(s=a.getSize()).width,t=s.height),a.setSize(e,t),n=a.getDrawingBufferSize(),this.inputBuffer.setSize(n.width,n.height),this.outputBuffer.setSize(n.width,n.height),o=0,r=i.length;o<r;++o)i[o].setSize(n.width,n.height)}},{key:"reset",value:function(){var e=this.createBuffer(this.inputBuffer.depthBuffer,this.inputBuffer.stencilBuffer,null!==this.inputBuffer.depthTexture);this.dispose(),this.inputBuffer=e,this.outputBuffer=e.clone(),this.copyPass=new He(new F)}},{key:"dispose",value:function(){var e,t=this.passes,n=void 0;for(n=0,e=t.length;n<e;++n)t[n].dispose();this.passes=[],null!==this.inputBuffer&&(this.inputBuffer.dispose(),this.inputBuffer=null),null!==this.outputBuffer&&(this.outputBuffer.dispose(),this.outputBuffer=null),this.copyPass.dispose()}},{key:"depthTexture",get:function(){return this.inputBuffer.depthTexture},set:function(e){this.inputBuffer.depthTexture=e,this.outputBuffer.depthTexture=e}}]),n}();!function(){function e(){l(this,e)}u(e,[{key:"setSize",value:function(e,t){}}])}();var tt=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:4;l(this,i),this.width=e,this.height=t,this.data=n,this.channels=r}return u(i,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:function(e,t,n,r){var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),a=i.getContext("2d"),s=a.createImageData(e,t),o=s.data,l=void 0,u=void 0,h=void 0,c=void 0;for(u=0;u<t;++u)for(l=0;l<e;++l)c=(u*e+l)*r,o[h=4*(u*e+l)]=0<r?n[c]:0,o[h+1]=1<r?n[c+1]:0,o[h+2]=2<r?n[c+2]:0,o[h+3]=3<r?n[c+3]:255;return i.width=e,i.height=t,a.putImageData(s,0,0),i}(this.width,this.height,this.data,this.channels)}}]),i}(),nt=new w.Box2,rt=new w.Box2,it=30,at=32,st=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),ot=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],lt=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],ut=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function ht(e,t,n){return e+(t-e)*n}function ct(e,t){var n,r=t.min,i=t.max,a=.5*Math.sqrt(2*r.x),s=.5*Math.sqrt(2*r.y),o=.5*Math.sqrt(2*i.x),l=.5*Math.sqrt(2*i.y),u=(n=e/at,Math.min(Math.max(n,0),1));return r.set(ht(a,r.x,u),ht(s,r.y,u)),i.set(ht(o,i.x,u),ht(l,i.y,u)),t}function dt(e,t,n,r){var i=t.x-e.x,a=t.y-e.y,s=n,o=n+1,l=e.y+a*(s-e.x)/i,u=e.y+a*(o-e.x)/i,h=void 0,c=void 0,d=void 0,f=void 0;return s>=e.x&&s<t.x||o>e.x&&o<=t.x?Math.sign(l)===Math.sign(u)||Math.abs(l)<1e-4||Math.abs(u)<1e-4?(h=(l+u)/2)<0?r.set(Math.abs(h),0):r.set(0,Math.abs(h)):(c=(f=-e.y*i/a+e.x)>e.x?l*(f-Math.trunc(f))/2:0,d=f<t.x?u*(1-(f-Math.trunc(f)))/2:0,(h=Math.abs(c)>Math.abs(d)?c:-d)<0?r.set(Math.abs(c),Math.abs(d)):r.set(Math.abs(d),Math.abs(c))):r.set(0,0),r}function ft(e,t,n,r,i){var a=nt.min,s=nt.max,o=rt.min,l=rt.max,u=rt,h=.5+r,c=.5+r-1,d=t+n+1;switch(e){case 0:i.set(0,0);break;case 1:t<=n?dt(a.set(0,c),s.set(d/2,0),t,i):i.set(0,0);break;case 2:n<=t?dt(a.set(d/2,0),s.set(d,c),t,i):i.set(0,0);break;case 3:dt(a.set(0,c),s.set(d/2,0),t,o),dt(a.set(d/2,0),s.set(d,c),t,l),ct(d,u),i.addVectors(o,l);break;case 4:t<=n?dt(a.set(0,h),s.set(d/2,0),t,i):i.set(0,0);break;case 5:i.set(0,0);break;case 6:0<Math.abs(r)?(dt(a.set(0,h),s.set(d,c),t,o),dt(a.set(0,h),s.set(d/2,0),t,l),l.add(dt(a.set(d/2,0),s.set(d,c),t,i)),i.addVectors(o,l).divideScalar(2)):dt(a.set(0,h),s.set(d,c),t,i);break;case 7:dt(a.set(0,h),s.set(d,c),t,i);break;case 8:n<=t?dt(a.set(d/2,0),s.set(d,h),t,i):i.set(0,0);break;case 9:0<Math.abs(r)?(dt(a.set(0,c),s.set(d,h),t,o),dt(a.set(0,c),s.set(d/2,0),t,l),l.add(dt(a.set(d/2,0),s.set(d,h),t,i)),i.addVectors(o,l).divideScalar(2)):dt(a.set(0,c),s.set(d,h),t,i);break;case 10:i.set(0,0);break;case 11:dt(a.set(0,c),s.set(d,h),t,i);break;case 12:dt(a.set(0,h),s.set(d/2,0),t,o),dt(a.set(d/2,0),s.set(d,h),t,l),ct(d,u),i.addVectors(o,l);break;case 13:dt(a.set(0,c),s.set(d,h),t,i);break;case 14:dt(a.set(0,h),s.set(d,c),t,i);break;case 15:i.set(0,0)}return i}function vt(e,t,n,r){var i,a,s,o,l,u,h,c=void 0,d=void 0,f=void 0;for(f=c=0;f<it;++f)for(d=0;d<it;++d)a=t,s=n+d/(it-1),o=r+f/(it-1),h=u=l=void 0,l=(i=e).equals(a),h=u=void 0,l||(u=(i.x+a.x)/2,h=(i.y+a.y)/2,l=0<(a.y-i.y)*(s-u)+(i.x-a.x)*(o-h)),l&&++c;return c/(it*it)}function gt(e,t,n,r,i,a){var s=ut[e],o=s[0],l=s[1];return 0<o&&(t.x+=i[0],t.y+=i[1]),0<l&&(n.x+=i[0],n.y+=i[1]),a.set(1-vt(t,n,1+r,0+r),vt(t,n,1+r,1+r))}function mt(e,t,n,r,i){var a=nt.min,s=nt.max,o=rt.min,l=rt.max,u=t+n+1;switch(e){case 0:gt(e,a.set(1,1),s.set(1+u,1+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 1:gt(e,a.set(1,0),s.set(0+u,0+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 2:gt(e,a.set(0,0),s.set(1+u,0+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 3:gt(e,a.set(1,0),s.set(1+u,0+u),t,r,i);break;case 4:gt(e,a.set(1,1),s.set(0+u,0+u),t,r,o),gt(e,a.set(1,1),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 5:gt(e,a.set(1,1),s.set(0+u,0+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 6:gt(e,a.set(1,1),s.set(1+u,0+u),t,r,i);break;case 7:gt(e,a.set(1,1),s.set(1+u,0+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 8:gt(e,a.set(0,0),s.set(1+u,1+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,1+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 9:gt(e,a.set(1,0),s.set(1+u,1+u),t,r,i);break;case 10:gt(e,a.set(0,0),s.set(1+u,1+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 11:gt(e,a.set(1,0),s.set(1+u,1+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 12:gt(e,a.set(1,1),s.set(1+u,1+u),t,r,i);break;case 13:gt(e,a.set(1,1),s.set(1+u,1+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,1+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 14:gt(e,a.set(1,1),s.set(1+u,1+u),t,r,o),gt(e,a.set(1,1),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2);break;case 15:gt(e,a.set(1,1),s.set(1+u,1+u),t,r,o),gt(e,a.set(1,0),s.set(1+u,0+u),t,r,l),i.addVectors(o,l).divideScalar(2)}return i}function yt(e,t,n){var r,i=new w.Vector2,a=void 0,s=void 0,o=void 0,l=void 0,u=void 0,h=void 0,c=void 0;for(a=0,r=e.length;a<r;++a)for(h=(u=e[a]).data,c=u.width,o=0;o<c;++o)for(s=0;s<c;++s)n?ft(a,s,o,t,i):mt(a,s,o,t,i),h[l=2*(o*c+s)]=255*i.x,h[l+1]=255*i.y}function pt(e,t,n,r,i,a){var s,o=new w.Vector2,l=a.data,u=a.width,h=void 0,c=void 0,d=void 0,f=void 0,v=void 0,g=void 0,m=void 0,y=void 0,p=void 0;for(h=0,s=t.length;h<s;++h)for(g=n[h],y=(m=t[h]).data,p=m.width,d=0;d<r;++d)for(c=0;c<r;++c)o.fromArray(g).multiplyScalar(r),o.add(e),o.x+=c,o.y+=d,v=i?2*(d*d*p+c*c):2*(d*p+c),l[f=2*(o.y*u+o.x)]=y[v],l[f+1]=y[v+1]}!function(){function e(){l(this,e)}u(e,null,[{key:"generate",value:function(){var e=5*st.length*16,t=new Uint8ClampedArray(160*e*2),n=new tt(160,e,t,2),r=Math.pow(15,2)+1,i=[],a=[],s=new w.Vector2,o=void 0,l=void 0;for(o=0;o<16;++o)i.push(new tt(r,r,new Uint8ClampedArray(r*r*2),2)),a.push(new tt(20,20,new Uint8ClampedArray(800),2));for(o=0,l=st.length;o<l;++o)yt(i,st[o],!0),s.set(0,80*o),pt(s,i,lt,16,!0,n);for(o=0,l=ot.length;o<l;++o)yt(a,ot[o],!1),s.set(80,80*o),pt(s,a,ut,20,!1,n);return n}}])}();var At=new Map([[wt([0,0,0,0]),[0,0,0,0]],[wt([0,0,0,1]),[0,0,0,1]],[wt([0,0,1,0]),[0,0,1,0]],[wt([0,0,1,1]),[0,0,1,1]],[wt([0,1,0,0]),[0,1,0,0]],[wt([0,1,0,1]),[0,1,0,1]],[wt([0,1,1,0]),[0,1,1,0]],[wt([0,1,1,1]),[0,1,1,1]],[wt([1,0,0,0]),[1,0,0,0]],[wt([1,0,0,1]),[1,0,0,1]],[wt([1,0,1,0]),[1,0,1,0]],[wt([1,0,1,1]),[1,0,1,1]],[wt([1,1,0,0]),[1,1,0,0]],[wt([1,1,0,1]),[1,1,0,1]],[wt([1,1,1,0]),[1,1,1,0]],[wt([1,1,1,1]),[1,1,1,1]]]);function xt(e,t,n){return e+(t-e)*n}function wt(e){return xt(xt(e[0],e[1],.75),xt(e[2],e[3],.75),.875)}!function(){function e(){l(this,e)}u(e,null,[{key:"generate",value:function(){var e,t,n,r,i,a,s=new Uint8ClampedArray(2178),o=new Uint8ClampedArray(1024),l=void 0,u=void 0,h=void 0,c=void 0,d=void 0,f=void 0,v=void 0;for(u=0;u<33;++u)for(l=0;l<66;++l)h=.03125*l,c=.03125*u,At.has(h)&&At.has(c)&&(f=At.get(h),v=At.get(c),s[66*u+l]=127*(r=f,a=void 0,a=0,1===(i=v)[3]&&(a+=1),1===a&&1===i[2]&&1!==r[1]&&1!==r[3]&&(a+=1),a),s[66*u+l+33]=127*(e=f,n=void 0,n=0,1===(t=v)[3]&&1!==e[1]&&1!==e[3]&&(n+=1),1===n&&1===t[2]&&1!==e[0]&&1!==e[2]&&(n+=1),n));for(d=0,u=17;u<33;++u)for(l=0;l<64;++l,++d)o[d]=s[66*u+l];return new tt(64,16,o,1)}}])}();var Mt={MOVE_FORWARD:0,MOVE_LEFT:1,MOVE_BACKWARD:2,MOVE_RIGHT:3,MOVE_DOWN:4,MOVE_UP:5,ZOOM_OUT:6,ZOOM_IN:7},kt=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;l(this,i),this.x=e,this.y=t,this.z=n}return u(i,[{key:"set",value:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"setFromSpherical",value:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this}},{key:"setFromCylindrical",value:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.x/=e,this.y/=e,this.z/=e,this}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,s=t.y,o=t.z;return this.x=r*o-i*s,this.y=i*a-n*o,this.z=n*s-r*a,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12],this.y=i[1]*t+i[5]*n+i[9]*r+i[13],this.z=i[2]*t+i[6]*n+i[10]*r+i[14],this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,s=e.z,o=e.w,l=o*t+a*r-s*n,u=o*n+s*t-i*r,h=o*r+i*n-a*t,c=-i*t-a*n-s*r;return this.x=l*o+c*-i+u*-s-h*-a,this.y=u*o+c*-a+h*-i-l*-s,this.z=h*o+c*-s+l*-a-u*-i,this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"reflect",value:function(e){1<arguments.length&&void 0!==arguments[1]?arguments[1]:new i;var t=e.x,n=e.y,r=e.z;return this.sub(e.multiplyScalar(2*this.dot(e))),e.set(t,n,r),this}},{key:"angleTo",value:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSquared()*e.lengthSquared());return Math.acos(Math.min(Math.max(t,-1),1))}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}}]),i}(),Ct=new kt,Dt=[new kt,new kt,new kt,new kt,new kt,new kt,new kt,new kt],St=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt(1/0,1/0,1/0),t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt(-1/0,-1/0,-1/0);l(this,n),this.min=e,this.max=t}return u(n,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"getBoundingSphere",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Pt;return this.getCenter(e.center),e.radius=.5*this.getSize(Ct).length(),e}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"setFromPoints",value:function(e){var t,n=void 0;for(this.min.set(0,0,0),this.max.set(0,0,0),n=0,t=e.length;n<t;++n)this.expandByPoint(e[n]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Ct.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clampPoint",value:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt).copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Ct.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"applyMatrix4",value:function(e){var t=this.min,n=this.max;return this.isEmpty()||(Dt[0].set(t.x,t.y,t.z).applyMatrix4(e),Dt[1].set(t.x,t.y,n.z).applyMatrix4(e),Dt[2].set(t.x,n.y,t.z).applyMatrix4(e),Dt[3].set(t.x,n.y,n.z).applyMatrix4(e),Dt[4].set(n.x,t.y,t.z).applyMatrix4(e),Dt[5].set(n.x,t.y,n.z).applyMatrix4(e),Dt[6].set(n.x,n.y,t.z).applyMatrix4(e),Dt[7].set(n.x,n.y,n.z).applyMatrix4(e),this.setFromPoints(Dt)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"containsPoint",value:function(e){var t=this.min,n=this.max;return e.x>=t.x&&e.y>=t.y&&e.z>=t.z&&e.x<=n.x&&e.y<=n.y&&e.z<=n.z}},{key:"containsBox",value:function(e){var t=this.min,n=this.max,r=e.min,i=e.max;return t.x<=r.x&&i.x<=n.x&&t.y<=r.y&&i.y<=n.y&&t.z<=r.z&&i.z<=n.z}},{key:"intersectsBox",value:function(e){var t=this.min,n=this.max,r=e.min,i=e.max;return i.x>=t.x&&i.y>=t.y&&i.z>=t.z&&r.x<=n.x&&r.y<=n.y&&r.z<=n.z}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Ct).distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t=void 0,n=void 0;return 0<e.normal.x?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),n}(),Et=new St,Pt=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;l(this,n),this.center=e,this.radius=t}return u(n,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"setFromPoints",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Et.setFromPoints(e).getCenter(this.center),r=0,i=void 0;for(i=0,t=e.length;i<t;++i)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"getBoundingBox",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new St;return e.set(this.center,this.center),e.expandByScalar(this.radius),e}},{key:"isEmpty",value:function(){return this.radius<=0}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"clampPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt,n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}]),n}(),bt=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;l(this,n),this.x=e,this.y=t}return u(n,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.x/=e,this.y/=e,this}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"angle",value:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"width",get:function(){return this.x},set:function(e){return this.x=e}},{key:"height",get:function(){return this.y},set:function(e){return this.y=e}}]),n}(),Bt=new bt,zt=(function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new bt(1/0,1/0),t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new bt(-1/0,-1/0);l(this,n),this.min=e,this.max=t}u(n,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new bt;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new bt;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"getBoundingSphere",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Pt;return this.getCenter(e.center),e.radius=.5*this.getSize(Bt).length(),e}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"setFromPoints",value:function(e){var t,n=void 0;for(this.min.set(0,0),this.max.set(0,0),n=0,t=e.length;n<t;++n)this.expandByPoint(e[n]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Bt.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clampPoint",value:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:new bt).copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Bt.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"containsPoint",value:function(e){var t=this.min,n=this.max;return e.x>=t.x&&e.y>=t.y&&e.x<=n.x&&e.y<=n.y}},{key:"containsBox",value:function(e){var t=this.min,n=this.max,r=e.min,i=e.max;return t.x<=r.x&&i.x<=n.x&&t.y<=r.y&&i.y<=n.y}},{key:"intersectsBox",value:function(e){var t=this.min,n=this.max,r=e.min,i=e.max;return i.x>=t.x&&i.y>=t.y&&r.x<=n.x&&r.y<=n.y}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}])}(),function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;l(this,r),this.radius=e,this.theta=t,this.y=n}u(r,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"setFromVector3",value:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}}])}(),function(){function e(){l(this,e),this.elements=new Float32Array([1,0,0,0,1,0,0,0,1])}return u(e,[{key:"set",value:function(e,t,n,r,i,a,s,o,l){var u=this.elements;return u[0]=e,u[3]=t,u[6]=n,u[1]=r,u[4]=i,u[7]=a,u[2]=s,u[5]=o,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=e.elements,n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements,r=void 0;for(r=0;r<9;++r)n[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements,r=void 0;for(r=0;r<9;++r)e[r+t]=n[r];return e}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],s=n[3],o=n[6],l=n[1],u=n[4],h=n[7],c=n[2],d=n[5],f=n[8],v=r[0],g=r[3],m=r[6],y=r[1],p=r[4],A=r[7],x=r[2],w=r[5],M=r[8];return i[0]=a*v+s*y+o*x,i[3]=a*g+s*p+o*w,i[6]=a*m+s*A+o*M,i[1]=l*v+u*y+h*x,i[4]=l*g+u*p+h*w,i[7]=l*m+u*A+h*M,i[2]=c*v+d*y+f*x,i[5]=c*g+d*p+f*w,i[8]=c*m+d*A+f*M,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5],o=e[6],l=e[7],u=e[8];return t*a*u-t*s*l-n*i*u+n*s*o+r*i*l-r*a*o}},{key:"getInverse",value:function(e){var t=e.elements,n=this.elements,r=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],u=t[6],h=t[7],c=t[8],d=c*o-l*h,f=l*u-c*s,v=h*s-o*u,g=r*d+i*f+a*v,m=void 0;return 0!==g?(m=1/g,n[0]=d*m,n[1]=(a*h-c*i)*m,n[2]=(l*i-a*o)*m,n[3]=f*m,n[4]=(c*r-a*u)*m,n[5]=(a*s-l*r)*m,n[6]=v*m,n[7]=(i*u-h*r)*m,n[8]=(o*r-i*s)*m):(console.error("Can't invert matrix, determinant is zero",e),this.identity()),this}},{key:"transpose",value:function(){var e=this.elements,t=void 0;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],s=r[6],o=r[1],l=r[4],u=r[7];return r[0]=t*i+n*o,r[3]=t*a+n*l,r[6]=t*s+n*u,r[1]=-n*i+t*o,r[4]=-n*a+t*l,r[7]=-n*s+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){var t=this.elements,n=e.elements,r=!0,i=void 0;for(i=0;r&&i<9;++i)t[i]!==n[i]&&(r=!1);return r}}]),e}()),Tt="XYZ",Ot="YZX",It="ZXY",Lt="XZY",Ft="YXZ",Ut="ZYX",Rt=new kt,Gt=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;l(this,i),this.x=e,this.y=t,this.z=n,this.w=r}return u(i,[{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"setFromEuler",value:function(e){var t=e.x,n=e.y,r=e.z,i=Math.cos,a=Math.sin,s=i(t/2),o=i(n/2),l=i(r/2),u=a(t/2),h=a(n/2),c=a(r/2);switch(e.order){case Tt:this.x=u*o*l+s*h*c,this.y=s*h*l-u*o*c,this.z=s*o*c+u*h*l,this.w=s*o*l-u*h*c;break;case Ft:this.x=u*o*l+s*h*c,this.y=s*h*l-u*o*c,this.z=s*o*c-u*h*l,this.w=s*o*l+u*h*c;break;case It:this.x=u*o*l-s*h*c,this.y=s*h*l+u*o*c,this.z=s*o*c+u*h*l,this.w=s*o*l-u*h*c;break;case Ut:this.x=u*o*l-s*h*c,this.y=s*h*l+u*o*c,this.z=s*o*c-u*h*l,this.w=s*o*l+u*h*c;break;case Ot:this.x=u*o*l+s*h*c,this.y=s*h*l+u*o*c,this.z=s*o*c-u*h*l,this.w=s*o*l-u*h*c;break;case Lt:this.x=u*o*l-s*h*c,this.y=s*h*l-u*o*c,this.z=s*o*c+u*h*l,this.w=s*o*l+u*h*c}return this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],s=t[5],o=t[9],l=t[2],u=t[6],h=t[10],c=n+s+h,d=void 0;return 0<c?(d=.5/Math.sqrt(c+1),this.w=.25/d,this.x=(u-o)*d,this.y=(i-l)*d,this.z=(a-r)*d):s<n&&h<n?(d=2*Math.sqrt(1+n-s-h),this.w=(u-o)/d,this.x=.25*d,this.y=(r+a)/d,this.z=(i+l)/d):h<s?(d=2*Math.sqrt(1+s-n-h),this.w=(i-l)/d,this.x=(r+a)/d,this.y=.25*d,this.z=(o+u)/d):(d=2*Math.sqrt(1+h-n-s),this.w=(a-r)/d,this.x=(i+l)/d,this.y=(o+u)/d,this.z=.25*d),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?Rt.set(-e.y,e.x,0):Rt.set(0,-e.z,e.y)):Rt.crossVectors(e,t),this.x=Rt.x,this.y=Rt.y,this.z=Rt.z,this.w=n,this.normalize()}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"normalize",value:function(){var e=this.length(),t=void 0;return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/e,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"multiplyQuaternions",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=e.w,s=t.x,o=t.y,l=t.z,u=t.w;return this.x=n*u+a*s+r*l-i*o,this.y=r*u+a*o+i*s-n*l,this.z=i*u+a*l+n*o-r*s,this.w=a*u-n*s-r*o-i*l,this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"slerp",value:function(e,t){var n=this.x,r=this.y,i=this.z,a=this.w,s=void 0,o=void 0,l=void 0,u=void 0,h=void 0;if(1===t)this.copy(e);else if(0<t){if((s=a*e.w+n*e.x+r*e.y+i*e.z)<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,s=-s):this.copy(e),1<=s)return this.w=a,this.x=n,this.y=r,this.z=i,this;if(o=Math.sqrt(1-s*s),Math.abs(o)<.001)return this.w=.5*(a+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(i+this.z),this;l=Math.atan2(o,s),u=Math.sin((1-t)*l)/o,h=Math.sin(t*l)/o,this.w=a*u+this.w*h,this.x=n*u+this.x*h,this.y=r*u+this.y*h,this.z=i*u+this.z*h}return this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}}],[{key:"slerp",value:function(e,t,n,r){return n.copy(e).slerp(t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,s){var o=i[a],l=i[a+1],u=i[a+2],h=i[a+3],c=n[r],d=n[r+1],f=n[r+2],v=n[r+3],g=void 0,m=void 0,y=void 0,p=void 0,A=void 0,x=void 0,w=void 0,M=void 0;v===h&&c===o&&d===l&&f===u||(g=1-s,x=0<=(p=c*o+d*l+f*u+v*h)?1:-1,(A=1-p*p)>Number.EPSILON&&(y=Math.sqrt(A),w=Math.atan2(y,p*x),g=Math.sin(g*w)/y,s=Math.sin(s*w)/y),c=c*g+o*(M=s*x),d=d*g+l*M,f=f*g+u*M,v=v*g+h*M,g===1-s&&(c*=m=1/Math.sqrt(c*c+d*d+f*f+v*v),d*=m,f*=m,v*=m)),e[t]=c,e[t+1]=d,e[t+2]=f,e[t+3]=v}}]),i}();function Qt(e,t,n){return Math.max(Math.min(e,n),t)}var Yt=new zt,Ht=new Gt,Vt=(function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;l(this,r),this.x=e,this.y=t,this.z=n,this.order=r.defaultOrder}u(r,[{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.order=r,this}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.order=e.order,this}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.order)}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.order=e[t+3],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.order,e}},{key:"toVector3",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt).set(this.x,this.y,this.z)}},{key:"setFromRotationMatrix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.order,n=e.elements,r=n[0],i=n[4],a=n[8],s=n[1],o=n[5],l=n[9],u=n[2],h=n[6],c=n[10],d=.99999;switch(t){case Tt:this.y=Math.asin(Qt(a,-1,1)),Math.abs(a)<d?(this.x=Math.atan2(-l,c),this.z=Math.atan2(-i,r)):(this.x=Math.atan2(h,o),this.z=0);break;case Ft:this.x=Math.asin(-Qt(l,-1,1)),Math.abs(l)<d?(this.y=Math.atan2(a,c),this.z=Math.atan2(s,o)):(this.y=Math.atan2(-u,r),this.z=0);break;case It:this.x=Math.asin(Qt(h,-1,1)),Math.abs(h)<d?(this.y=Math.atan2(-u,c),this.z=Math.atan2(-i,o)):(this.y=0,this.z=Math.atan2(s,r));break;case Ut:this.y=Math.asin(-Qt(u,-1,1)),Math.abs(u)<d?(this.x=Math.atan2(h,c),this.z=Math.atan2(s,r)):(this.x=0,this.z=Math.atan2(-i,o));break;case Ot:this.z=Math.asin(Qt(s,-1,1)),Math.abs(s)<d?(this.x=Math.atan2(-l,o),this.y=Math.atan2(-u,r)):(this.x=0,this.y=Math.atan2(a,c));break;case Lt:this.z=Math.asin(-Qt(i,-1,1)),Math.abs(i)<d?(this.x=Math.atan2(h,o),this.y=Math.atan2(a,r)):(this.x=Math.atan2(-l,c),this.y=0)}return this.order=t,this}},{key:"setFromQuaternion",value:function(e,t){return Yt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Yt,t)}},{key:"setFromVector3",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Ht.setFromEuler(this),this.setFromQuaternion(Ht,e)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.order===this.order}}],[{key:"defaultOrder",get:function(){return Tt}}])}(),new kt),jt=new kt,Nt=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt(1,0,0),t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;l(this,n),this.normal=e,this.constant=t}return u(n,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=Vt.subVectors(n,t).cross(jt.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,Vt),this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.normal.negate(),this.constant=-this.constant,this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"intersectLine",value:function(e,t){var n=e.delta(Vt),r=this.normal.dot(n);if(0===r)0===this.distanceToPoint(e.start)&&t.copy(e.start);else{var i=-(e.start.dot(this.normal)+this.constant)/r;0<=i&&i<=1&&t.copy(n).multiplyScalar(i).add(e.start)}return t}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&0<n||n<0&&0<t}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}]),n}(),Wt=new kt,Xt=new kt,Kt=(function(){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Nt,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Nt,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Nt,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Nt,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new Nt,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new Nt;l(this,s),this.planes=[e,t,n,r,i,a]}u(s,[{key:"set",value:function(e,t,n,r,i,a){var s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){var t=this.planes,n=void 0;for(n=0;n<6;++n)t[n].copy(e.planes[n]);return this}},{key:"setFromMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5],u=n[6],h=n[7],c=n[8],d=n[9],f=n[10],v=n[11],g=n[12],m=n[13],y=n[14],p=n[15];return t[0].setComponents(s-r,h-o,v-c,p-g).normalize(),t[1].setComponents(s+r,h+o,v+c,p+g).normalize(),t[2].setComponents(s+i,h+l,v+d,p+m).normalize(),t[3].setComponents(s-i,h-l,v-d,p-m).normalize(),t[4].setComponents(s-a,h-u,v-f,p-y).normalize(),t[5].setComponents(s+a,h+u,v+f,p+y).normalize(),this}},{key:"intersectsSphere",value:function(e){var t=this.planes,n=e.center,r=-e.radius,i=!0,a=void 0;for(a=0;a<6;++a)if(t[a].distanceToPoint(n)<r){i=!1;break}return i}},{key:"intersectsBox",value:function(e){var t=this.planes,n=e.min,r=e.max,i=!0,a=void 0,s=void 0,o=void 0,l=void 0;for(a=0;a<6;++a)if(l=t[a],Wt.x=0<l.normal.x?n.x:r.x,Xt.x=0<l.normal.x?r.x:n.x,Wt.y=0<l.normal.y?n.y:r.y,Xt.y=0<l.normal.y?r.y:n.y,Wt.z=0<l.normal.z?n.z:r.z,Xt.z=0<l.normal.z?r.z:n.z,s=l.distanceToPoint(Wt),o=l.distanceToPoint(Xt),s<0&&o<0){i=!1;break}return i}},{key:"containsPoint",value:function(e){var t=this.planes,n=!0,r=void 0;for(r=0;r<6;++r)if(t[r].distanceToPoint(e)<0){n=!1;break}return n}}])}(),new kt),qt=new kt,Jt=(function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt;l(this,n),this.start=e,this.end=t}u(n,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"getCenter",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt).addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt).subVectors(this.end,this.start)}},{key:"lengthSquared",value:function(){return this.start.distanceToSquared(this.end)}},{key:"length",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Kt.subVectors(e,this.start),qt.subVectors(this.end,this.start);var n=qt.dot(qt),r=qt.dot(Kt);return t?Math.min(Math.max(r/n,0),1):r/n}},{key:"closestPointToPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new kt,r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}])}(),new kt),Zt=new kt,_t=new kt,$t=function(){function e(){l(this,e),this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return u(e,[{key:"set",value:function(e,t,n,r,i,a,s,o,l,u,h,c,d,f,v,g){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=s,m[13]=o,m[2]=l,m[6]=u,m[10]=h,m[14]=c,m[3]=d,m[7]=f,m[11]=v,m[15]=g,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"copy",value:function(e){var t=e.elements,n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements,r=void 0;for(r=0;r<16;++r)n[r]=e[r+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements,r=void 0;for(r=0;r<16;++r)e[r+t]=n[r];return e}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setPosition",value:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Jt.setFromMatrixColumn(e,0).length(),i=1/Jt.setFromMatrixColumn(e,1).length(),a=1/Jt.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),s=Math.sin(n),o=Math.cos(r),l=Math.sin(r),u=Math.cos(i),h=Math.sin(i),c=void 0,d=void 0,f=void 0,v=void 0,g=void 0,m=void 0,y=void 0,p=void 0,A=void 0,x=void 0,w=void 0,M=void 0;switch(e.order){case Tt:c=a*u,d=a*h,f=s*u,v=s*h,t[0]=o*u,t[4]=-o*h,t[8]=l,t[1]=d+f*l,t[5]=c-v*l,t[9]=-s*o,t[2]=v-c*l,t[6]=f+d*l,t[10]=a*o;break;case Ft:g=o*u,m=o*h,y=l*u,p=l*h,t[0]=g+p*s,t[4]=y*s-m,t[8]=a*l,t[1]=a*h,t[5]=a*u,t[9]=-s,t[2]=m*s-y,t[6]=p+g*s,t[10]=a*o;break;case It:g=o*u,m=o*h,y=l*u,p=l*h,t[0]=g-p*s,t[4]=-a*h,t[8]=y+m*s,t[1]=m+y*s,t[5]=a*u,t[9]=p-g*s,t[2]=-a*l,t[6]=s,t[10]=a*o;break;case Ut:c=a*u,d=a*h,f=s*u,v=s*h,t[0]=o*u,t[4]=f*l-d,t[8]=c*l+v,t[1]=o*h,t[5]=v*l+c,t[9]=d*l-f,t[2]=-l,t[6]=s*o,t[10]=a*o;break;case Ot:A=a*o,x=a*l,w=s*o,M=s*l,t[0]=o*u,t[4]=M-A*h,t[8]=w*h+x,t[1]=h,t[5]=a*u,t[9]=-s*u,t[2]=-l*u,t[6]=x*h+w,t[10]=A-M*h;break;case Lt:A=a*o,x=a*l,w=s*o,M=s*l,t[0]=o*u,t[4]=-h,t[8]=l*u,t[1]=A*h+M,t[5]=a*u,t[9]=x*h-w,t[2]=w*h-x,t[6]=s*u,t[10]=M*h+A}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=e.w,s=n+n,o=r+r,l=i+i,u=n*s,h=n*o,c=n*l,d=r*o,f=r*l,v=i*l,g=a*s,m=a*o,y=a*l;return t[0]=1-(d+v),t[4]=h-y,t[8]=c+m,t[1]=h+y,t[5]=1-(u+v),t[9]=f-g,t[2]=c-m,t[6]=f+g,t[10]=1-(u+d),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"lookAt",value:function(e,t,n){var r=this.elements,i=Jt,a=Zt,s=_t;return s.subVectors(e,t),0===s.lengthSquared()&&(s.z=1),s.normalize(),i.crossVectors(n,s),0===i.lengthSquared()&&(1===Math.abs(n.z)?s.x+=1e-4:s.z+=1e-4,s.normalize(),i.crossVectors(n,s)),i.normalize(),a.crossVectors(s,i),r[0]=i.x,r[4]=a.x,r[8]=s.x,r[1]=i.y,r[5]=a.y,r[9]=s.y,r[2]=i.z,r[6]=a.z,r[10]=s.z,this}},{key:"multiplyMatrices",value:function(e,t){var n=this.elements,r=e.elements,i=t.elements,a=r[0],s=r[4],o=r[8],l=r[12],u=r[1],h=r[5],c=r[9],d=r[13],f=r[2],v=r[6],g=r[10],m=r[14],y=r[3],p=r[7],A=r[11],x=r[15],w=i[0],M=i[4],k=i[8],C=i[12],D=i[1],S=i[5],E=i[9],P=i[13],b=i[2],B=i[6],z=i[10],T=i[14],O=i[3],I=i[7],L=i[11],F=i[15];return n[0]=a*w+s*D+o*b+l*O,n[4]=a*M+s*S+o*B+l*I,n[8]=a*k+s*E+o*z+l*L,n[12]=a*C+s*P+o*T+l*F,n[1]=u*w+h*D+c*b+d*O,n[5]=u*M+h*S+c*B+d*I,n[9]=u*k+h*E+c*z+d*L,n[13]=u*C+h*P+c*T+d*F,n[2]=f*w+v*D+g*b+m*O,n[6]=f*M+v*S+g*B+m*I,n[10]=f*k+v*E+g*z+m*L,n[14]=f*C+v*P+g*T+m*F,n[3]=y*w+p*D+A*b+x*O,n[7]=y*M+p*S+A*B+x*I,n[11]=y*k+p*E+A*z+x*L,n[15]=y*C+p*P+A*T+x*F,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],s=e[5],o=e[9],l=e[13],u=e[2],h=e[6],c=e[10],d=e[14],f=t*s,v=t*o,g=t*l,m=n*a,y=n*o,p=n*l,A=r*a,x=r*s,w=r*l,M=i*a,k=i*s,C=i*o;return e[3]*(C*h-w*h-k*c+p*c+x*d-y*d)+e[7]*(v*d-g*c+M*c-A*d+w*u-C*u)+e[11]*(g*h-f*d-M*h+m*d+k*u-p*u)+e[15]*(-x*u-v*h+f*c+A*h-m*c+y*u)}},{key:"getInverse",value:function(e){var t=this.elements,n=e.elements,r=n[0],i=n[1],a=n[2],s=n[3],o=n[4],l=n[5],u=n[6],h=n[7],c=n[8],d=n[9],f=n[10],v=n[11],g=n[12],m=n[13],y=n[14],p=n[15],A=d*y*h-m*f*h+m*u*v-l*y*v-d*u*p+l*f*p,x=g*f*h-c*y*h-g*u*v+o*y*v+c*u*p-o*f*p,w=c*m*h-g*d*h+g*l*v-o*m*v-c*l*p+o*d*p,M=g*d*u-c*m*u-g*l*f+o*m*f+c*l*y-o*d*y,k=r*A+i*x+a*w+s*M,C=void 0;return 0!==k?(C=1/k,t[0]=A*C,t[1]=(m*f*s-d*y*s-m*a*v+i*y*v+d*a*p-i*f*p)*C,t[2]=(l*y*s-m*u*s+m*a*h-i*y*h-l*a*p+i*u*p)*C,t[3]=(d*u*s-l*f*s-d*a*h+i*f*h+l*a*v-i*u*v)*C,t[4]=x*C,t[5]=(c*y*s-g*f*s+g*a*v-r*y*v-c*a*p+r*f*p)*C,t[6]=(g*u*s-o*y*s-g*a*h+r*y*h+o*a*p-r*u*p)*C,t[7]=(o*f*s-c*u*s+c*a*h-r*f*h-o*a*v+r*u*v)*C,t[8]=w*C,t[9]=(g*d*s-c*m*s-g*i*v+r*m*v+c*i*p-r*d*p)*C,t[10]=(o*m*s-g*l*s+g*i*h-r*m*h-o*i*p+r*l*p)*C,t[11]=(c*l*s-o*d*s-c*i*h+r*d*h+o*i*v-r*l*v)*C,t[12]=M*C,t[13]=(c*m*a-g*d*a+g*i*f-r*m*f-c*i*y+r*d*y)*C,t[14]=(g*l*a-o*m*a-g*i*u+r*m*u+o*i*y-r*l*y)*C,t[15]=(o*d*a-c*l*a+c*i*u-r*d*u-o*i*f+r*l*f)*C):(console.error("Can't invert matrix, determinant is zero",e),this.identity()),this}},{key:"transpose",value:function(){var e=this.elements,t=void 0;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"scale",value:function(e,t,n){var r=this.elements;return r[0]*=e,r[4]*=t,r[8]*=n,r[1]*=e,r[5]*=t,r[9]*=n,r[2]*=e,r[6]*=t,r[10]*=n,r[3]*=e,r[7]*=t,r[11]*=n,this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,s=e.y,o=e.z,l=i*a,u=i*s;return this.set(l*a+n,l*s-r*o,l*o+r*s,0,l*s+r*o,u*s+n,u*o-r*a,0,l*o-r*s,u*o+r*a,i*o*o+n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n.x,n.y,n.z),this.setPosition(e),this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=r[0],a=r[1],s=r[2],o=r[4],l=r[5],u=r[6],h=r[8],c=r[9],d=r[10],f=this.determinant(),v=Jt.set(i,a,s).length()*(f<0?-1:1),g=Jt.set(o,l,u).length(),m=Jt.set(h,c,d).length(),y=1/v,p=1/g,A=1/m;return e.x=r[12],e.y=r[13],e.z=r[14],r[0]*=y,r[1]*=y,r[2]*=y,r[4]*=p,r[5]*=p,r[6]*=p,r[8]*=A,r[9]*=A,r[10]*=A,t.setFromRotationMatrix(this),r[0]=i,r[1]=a,r[2]=s,r[4]=o,r[5]=l,r[6]=u,r[8]=h,r[9]=c,r[10]=d,n.x=v,n.y=g,n.z=m,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var s=this.elements,o=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r),c=-(a+i)/(a-i),d=-2*a*i/(a-i);return s[0]=o,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=l,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=c,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var s=this.elements,o=1/(t-e),l=1/(n-r),u=1/(a-i),h=(t+e)*o,c=(n+r)*l,d=(a+i)*u;return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-c,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}},{key:"equals",value:function(e){var t=this.elements,n=e.elements,r=!0,i=void 0;for(i=0;r&&i<16;++i)t[i]!==n[i]&&(r=!1);return r}}]),e}(),en=[new kt,new kt,new kt,new kt],tn=(function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt;l(this,n),this.origin=e,this.direction=t}u(n,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"at",value:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt).copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,en[0])),this}},{key:"closestPointToPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt,n=t.subVectors(e,this.origin).dot(this.direction);return 0<=n?t.copy(this.direction).multiplyScalar(n).add(this.origin):t.copy(this.origin)}},{key:"distanceSquaredToPoint",value:function(e){var t=en[0].subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):en[0].copy(this.direction).multiplyScalar(t).add(this.origin).distanceToSquared(e)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSquaredToPoint(e))}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction),n=0!==t?-(this.origin.dot(e.normal)+e.constant)/t:0===e.distanceToPoint(this.origin)?0:-1;return 0<=n?n:null}},{key:"distanceSquaredToSegment",value:function(e,t,n,r){var i=en[0].copy(e).add(t).multiplyScalar(.5),a=en[1].copy(t).sub(e).normalize(),s=en[2].copy(this.origin).sub(i),o=.5*e.distanceTo(t),l=-this.direction.dot(a),u=s.dot(this.direction),h=-s.dot(a),c=s.lengthSq(),d=Math.abs(1-l*l),f=void 0,v=void 0,g=void 0,m=void 0,y=void 0;return 0<d?(v=l*u-h,g=o*d,0<=(f=l*h-u)?-g<=v?v<=g?y=(f*=m=1/d)*(f+l*(v*=m)+2*u)+v*(l*f+v+2*h)+c:(v=o,y=-(f=Math.max(0,-(l*v+u)))*f+v*(v+2*h)+c):(v=-o,y=-(f=Math.max(0,-(l*v+u)))*f+v*(v+2*h)+c):v<=-g?y=-(f=Math.max(0,-(-l*o+u)))*f+(v=0<f?-o:Math.min(Math.max(-o,-h),o))*(v+2*h)+c:v<=g?(f=0,y=(v=Math.min(Math.max(-o,-h),o))*(v+2*h)+c):y=-(f=Math.max(0,-(l*o+u)))*f+(v=0<f?o:Math.min(Math.max(-o,-h),o))*(v+2*h)+c):(v=0<l?-o:o,y=-(f=Math.max(0,-(l*v+u)))*f+v*(v+2*h)+c),void 0!==n&&n.copy(this.direction).multiplyScalar(f).add(this.origin),void 0!==r&&r.copy(a).multiplyScalar(v).add(i),y}},{key:"intersectSphere",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt,n=en[0].subVectors(e.center,this.origin),r=n.dot(this.direction),i=n.dot(n)-r*r,a=e.radius*e.radius,s=null,o=void 0,l=void 0,u=void 0;return i<=a&&(u=r+(o=Math.sqrt(a-i)),(0<=(l=r-o)||0<=u)&&(s=l<0?this.at(u,t):this.at(l,t))),s}},{key:"intersectsSphere",value:function(e){return this.distanceToPoint(e.center)<=e.radius}},{key:"intersectPlane",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt,n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new kt,n=this.origin,r=this.direction,i=e.min,a=e.max,s=1/r.x,o=1/r.y,l=1/r.z,u=null,h=void 0,c=void 0,d=void 0,f=void 0,v=void 0,g=void 0;return 0<=s?(h=(i.x-n.x)*s,c=(a.x-n.x)*s):(h=(a.x-n.x)*s,c=(i.x-n.x)*s),0<=o?(d=(i.y-n.y)*o,f=(a.y-n.y)*o):(d=(a.y-n.y)*o,f=(i.y-n.y)*o),h<=f&&d<=c&&((h<d||h!=h)&&(h=d),(f<c||c!=c)&&(c=f),0<=l?(v=(i.z-n.z)*l,g=(a.z-n.z)*l):(v=(a.z-n.z)*l,g=(i.z-n.z)*l),h<=g&&v<=c&&((h<v||h!=h)&&(h=v),(g<c||c!=c)&&(c=g),0<=c&&(u=this.at(0<=h?h:c,t)))),u}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,en[0])}},{key:"intersectTriangle",value:function(e,t,n,r,i){var a=this.direction,s=en[0],o=en[1],l=en[2],u=en[3],h=null,c=void 0,d=void 0,f=void 0,v=void 0,g=void 0;return o.subVectors(t,e),l.subVectors(n,e),u.crossVectors(o,l),0===(c=a.dot(u))||r&&0<c||(0<c?d=1:(d=-1,c=-c),s.subVectors(this.origin,e),0<=(f=d*a.dot(l.crossVectors(s,l)))&&0<=(v=d*a.dot(o.cross(s)))&&f+v<=c&&0<=(g=-d*s.dot(u))&&(h=this.at(g/c,i))),h}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}])}(),function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;l(this,r),this.radius=e,this.phi=t,this.theta=n}return u(r,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"setFromVector3",value:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Math.min(Math.max(e.y/this.radius,-1),1))),this.makeSafe()}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}}]),r}()),nn=(function(){function e(){l(this,e),this.elements=new Float32Array([1,0,0,1,0,1])}u(e,[{key:"set",value:function(e,t,n,r,i,a){var s=this.elements;return s[0]=e,s[1]=t,s[3]=r,s[2]=n,s[4]=i,s[5]=a,this}},{key:"identity",value:function(){return this.set(1,0,0,1,0,1),this}},{key:"copy",value:function(e){var t=e.elements;return this.set(t[0],t[1],t[2],t[3],t[4],t[5]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toMatrix3",value:function(e){var t=e.elements;e.set(t[0],t[1],t[2],t[1],t[3],t[4],t[2],t[4],t[5])}},{key:"add",value:function(e){var t=this.elements,n=e.elements;return t[0]+=n[0],t[1]+=n[1],t[3]+=n[3],t[2]+=n[2],t[4]+=n[4],t[5]+=n[5],this}},{key:"norm",value:function(){var e=this.elements,t=e[1]*e[1],n=e[2]*e[2],r=e[4]*e[4];return Math.sqrt(e[0]*e[0]+t+n+t+e[3]*e[3]+r+n+r+e[5]*e[5])}},{key:"off",value:function(){var e=this.elements;return Math.sqrt(2*(e[1]*e[1]+e[2]*e[2]+e[4]*e[4]))}},{key:"applyToVector3",value:function(e){var t=e.x,n=e.y,r=e.z,i=this.elements;return e.x=i[0]*t+i[1]*n+i[2]*r,e.y=i[1]*t+i[3]*n+i[4]*r,e.z=i[2]*t+i[4]*n+i[5]*r,e}},{key:"equals",value:function(e){var t=this.elements,n=e.elements,r=!0,i=void 0;for(i=0;r&&i<6;++i)t[i]!==n[i]&&(r=!1);return r}}],[{key:"calculateIndex",value:function(e,t){return 3-(3-e)*(2-e)/2+t}}])}(),function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;l(this,i),this.x=e,this.y=t,this.z=n,this.w=r}u(i,[{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],s=t[5],o=t[9],l=t[2],u=t[6],h=t[10],c=void 0,d=void 0,f=void 0,v=void 0,g=void 0,m=void 0,y=void 0,p=void 0,A=void 0,x=void 0,w=void 0;return Math.abs(r-a)<.01&&Math.abs(i-l)<.01&&Math.abs(o-u)<.01?Math.abs(r+a)<.1&&Math.abs(i+l)<.1&&Math.abs(o+u)<.1&&Math.abs(n+s+h-3)<.1?this.set(1,0,0,0):(c=Math.PI,y=(h+1)/2,p=(r+a)/4,A=(i+l)/4,x=(o+u)/4,(m=(s+1)/2)<(g=(n+1)/2)&&y<g?g<.01?(d=0,v=f=.707106781):(f=p/(d=Math.sqrt(g)),v=A/d):y<m?m<.01?(f=0,v=d=.707106781):(d=p/(f=Math.sqrt(m)),v=x/f):y<.01?(f=d=.707106781,v=0):(d=A/(v=Math.sqrt(y)),f=x/v),this.set(d,f,v,c)):(w=Math.sqrt((u-o)*(u-o)+(i-l)*(i-l)+(a-r)*(a-r)),Math.abs(w)<.001&&(w=1),this.x=(u-o)/w,this.y=(i-l)/w,this.z=(a-r)/w,this.w=Math.acos((n+s+h-1)/2)),this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this.w=e.w*t.w,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}},{key:"divideScalar",value:function(e){return this.x/=e,this.y/=e,this.z/=e,this.w/=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)+Math.abs(this.w-e.w)}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z,i=this.w-e.w;return t*t+n*n+r*r+i*i}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"normalize",value:function(){return this.divideScalar(this.length())}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}}])}(),0),rn=1,an=2,sn=2*Math.PI,on=new kt,ln=new $t,un=function(){function i(e,t,n,r){l(this,i),this.position=e,this.quaternion=t,this.target=n,this.settings=r,this.spherical=new tn}return u(i,[{key:"setPosition",value:function(e){return this.position=e,this}},{key:"setQuaternion",value:function(e){return this.quaternion=e,this}},{key:"setTarget",value:function(e){return this.target=e,this}},{key:"updateQuaternion",value:function(){var e=this.settings,t=e.rotation;return e.general.orbit?ln.lookAt(on.subVectors(this.position,this.target),t.pivotOffset,t.up):ln.lookAt(on.set(0,0,0),this.target.setFromSpherical(this.spherical),t.up),this.quaternion.setFromRotationMatrix(ln),this}},{key:"adjustSpherical",value:function(e,t){var n=this.settings,r=n.general.orbit,i=n.rotation,a=this.spherical;return a.theta=i.invertX?a.theta+e:a.theta-e,a.phi=!r&&!i.invertY||r&&i.invertY?a.phi+t:a.phi-t,a.theta=Math.min(Math.max(a.theta,i.minAzimuthalAngle),i.maxAzimuthalAngle),a.phi=Math.min(Math.max(a.phi,i.minPolarAngle),i.maxPolarAngle),a.theta%=sn,a.makeSafe(),r&&this.position.setFromSpherical(a).add(this.target),this}},{key:"zoom",value:function(e){var t=this.settings,n=t.general,r=t.sensitivity,i=t.zoom,a=this.spherical,s=void 0,o=void 0,l=void 0;return n.orbit&&i.enabled&&(s=e*r.zoom,i.invert&&(s=-s),o=Math.max(i.minDistance,1e-6),l=Math.min(i.maxDistance,1/0),a.radius=Math.min(Math.max(a.radius+s,o),l),this.position.setFromSpherical(a).add(this.target)),this}},{key:"update",value:function(e){}},{key:"lookAt",value:function(e){var t=this.spherical,n=this.position,r=this.target;return r.copy(e),this.settings.general.orbit?on.subVectors(n,r):on.subVectors(r,n).normalize(),t.setFromVector3(on),t.radius=Math.max(t.radius,1e-6),this.updateQuaternion(),this}},{key:"getViewDirection",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt;return e.setFromSpherical(this.spherical).normalize(),this.settings.general.orbit&&e.negate(),e}}]),i}(),hn=function(){function e(){l(this,e),this.left=!1,this.right=!1,this.forward=!1,this.backward=!1,this.up=!1,this.down=!1}return u(e,[{key:"reset",value:function(){return this.left=!1,this.right=!1,this.forward=!1,this.backward=!1,this.up=!1,this.down=!1,this}}]),e}(),cn=new kt(1,0,0),dn=new kt(0,1,0),fn=new kt(0,0,1),vn=new kt,gn=function(){function i(e,t,n,r){l(this,i),this.position=e,this.quaternion=t,this.target=n,this.settings=r,this.movementState=new hn}return u(i,[{key:"setPosition",value:function(e){return this.position=e,this}},{key:"setQuaternion",value:function(e){return this.quaternion=e,this}},{key:"setTarget",value:function(e){return this.target=e,this}},{key:"translateOnAxis",value:function(e,t){vn.copy(e).applyQuaternion(this.quaternion).multiplyScalar(t),this.position.add(vn),this.settings.general.orbit&&this.target.add(vn)}},{key:"translate",value:function(e){var t=this.settings.sensitivity,n=this.movementState,r=e*t.translation;n.backward?this.translateOnAxis(fn,r):n.forward&&this.translateOnAxis(fn,-r),n.right?this.translateOnAxis(cn,r):n.left&&this.translateOnAxis(cn,-r),n.up?this.translateOnAxis(dn,r):n.down&&this.translateOnAxis(dn,-r)}},{key:"update",value:function(e){this.settings.translation.enabled&&this.translate(e)}},{key:"moveTo",value:function(e){return this.settings.general.orbit?this.target.copy(e):this.position.copy(e),this}}]),i}(),mn=new Proxy({BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,META_LEFT:91,META_RIGHT:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMICOLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222},{get:function(e,t){return t in e?e[t]:1===t.length?t.toUpperCase().charCodeAt(0):void 0}}),yn=function(){function e(){l(this,e),this.orbit=!0}return u(e,[{key:"copy",value:function(e){return this.orbit=e.orbit,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),pn=function(){function e(){l(this,e),this.defaultActions=new Map,this.actions=new Map}return u(e,[{key:"reset",value:function(){return this.actions=new Map(this.defaultActions),this}},{key:"setDefault",value:function(e){return this.defaultActions=e,this.reset()}},{key:"copy",value:function(e){return this.defaultActions=new Map(e.defaultActions),this.actions=new Map(e.actions),this}},{key:"clearDefault",value:function(){return this.defaultActions.clear(),this}},{key:"clear",value:function(){return this.actions.clear(),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"has",value:function(e){return this.actions.has(e)}},{key:"get",value:function(e){return this.actions.get(e)}},{key:"set",value:function(e,t){return this.actions.set(e,t),this}},{key:"delete",value:function(e){return this.actions.delete(e)}},{key:"toJSON",value:function(){return{defaultActions:[].concat(t(this.defaultActions)),actions:[].concat(t(this.actions))}}}]),e}(),An=function(){function e(){l(this,e),this.hold=!1,this.lock=!0}return u(e,[{key:"copy",value:function(e){return this.hold=e.hold,this.lock=e.lock,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),xn=function(){function e(){l(this,e),this.up=new kt,this.up.copy(dn),this.pivotOffset=new kt,this.minAzimuthalAngle=-1/0,this.maxAzimuthalAngle=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.invertX=!1,this.invertY=!1}return u(e,[{key:"copy",value:function(e){return this.up.copy(e.up),this.pivotOffset.copy(e.pivotOffset),this.minAzimuthalAngle=null!==e.minAzimuthalAngle?e.minAzimuthalAngle:-1/0,this.maxAzimuthalAngle=null!==e.maxAzimuthalAngle?e.maxAzimuthalAngle:1/0,this.minPolarAngle=e.minPolarAngle,this.maxPolarAngle=e.maxPolarAngle,this.invertX=e.invertX,this.invertY=e.invertY,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),wn=function(){function e(){l(this,e),this.rotation=.0025,this.translation=1,this.zoom=.1}return u(e,[{key:"copy",value:function(e){return this.rotation=e.rotation,this.translation=e.translation,this.zoom=e.zoom,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Mn=function(){function e(){l(this,e),this.enabled=!0}return u(e,[{key:"copy",value:function(e){return this.enabled=e.enabled,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),kn=function(){function e(){l(this,e),this.enabled=!0,this.invert=!1,this.minDistance=1e-6,this.maxDistance=1/0}return u(e,[{key:"copy",value:function(e){return this.enabled=e.enabled,this.invert=e.invert,this.minDistance=e.minDistance,this.maxDistance=e.maxDistance,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Cn=function(){function e(){l(this,e),this.general=new yn,this.keyBindings=new pn,this.keyBindings.setDefault(new Map([[mn.W,Mt.MOVE_FORWARD],[mn.UP,Mt.MOVE_FORWARD],[mn.A,Mt.MOVE_LEFT],[mn.LEFT,Mt.MOVE_LEFT],[mn.S,Mt.MOVE_BACKWARD],[mn.DOWN,Mt.MOVE_BACKWARD],[mn.D,Mt.MOVE_RIGHT],[mn.RIGHT,Mt.MOVE_RIGHT],[mn.X,Mt.MOVE_DOWN],[mn.SPACE,Mt.MOVE_UP],[mn.PAGE_DOWN,Mt.ZOOM_OUT],[mn.PAGE_UP,Mt.ZOOM_IN]])),this.pointer=new An,this.rotation=new xn,this.sensitivity=new wn,this.translation=new Mn,this.zoom=new kn}return u(e,[{key:"copy",value:function(e){return this.general.copy(e.general),this.keyBindings.copy(e.keyBindings),this.pointer.copy(e.pointer),this.rotation.copy(e.rotation),this.sensitivity.copy(e.sensitivity),this.translation.copy(e.translation),this.zoom.copy(e.zoom),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toDataURL",value:function(){return URL.createObjectURL(new Blob([JSON.stringify(this)],{type:"text/json"}))}}]),e}(),Dn=function(){function e(){l(this,e)}return u(e,[{key:"execute",value:function(e){throw new Error("Strategy#execute method not implemented!")}}]),e}(),Sn=function(e){function r(e,t){l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n.movementState=e,n.direction=t,n}return c(r,Dn),u(r,[{key:"execute",value:function(e){var t=this.movementState;switch(this.direction){case En.FORWARD:t.forward=e;break;case En.LEFT:t.left=e;break;case En.BACKWARD:t.backward=e;break;case En.RIGHT:t.right=e;break;case En.DOWN:t.down=e;break;case En.UP:t.up=e}}}]),r}(),En={FORWARD:0,LEFT:1,BACKWARD:2,RIGHT:3,DOWN:4,UP:5},Pn=function(e){function r(e,t){l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n.rotationManager=e,n.zoomIn=t,n}return c(r,Dn),u(r,[{key:"execute",value:function(e){e&&this.rotationManager.zoom(this.zoomIn?-1:1)}}]),r}(),bn=function(){function s(){var e,t,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document.body;l(this,s),this.dom=a,this.position=r,this.quaternion=i,this.target=new kt,this.settings=new Cn,this.rotationManager=new un(r,i,this.target,this.settings),this.translationManager=new gn(r,i,this.target,this.settings),this.strategies=(e=this.rotationManager,t=this.translationManager,n=t.movementState,new Map([[Mt.MOVE_FORWARD,new Sn(n,En.FORWARD)],[Mt.MOVE_LEFT,new Sn(n,En.LEFT)],[Mt.MOVE_BACKWARD,new Sn(n,En.BACKWARD)],[Mt.MOVE_RIGHT,new Sn(n,En.RIGHT)],[Mt.MOVE_DOWN,new Sn(n,En.DOWN)],[Mt.MOVE_UP,new Sn(n,En.UP)],[Mt.ZOOM_OUT,new Pn(e,!1)],[Mt.ZOOM_IN,new Pn(e,!0)]])),this.lastScreenPosition=new bt,this.dragging=!1,this.enabled=!1,null!==r&&null!==i&&(this.lookAt(this.target),null!==a&&this.setEnabled())}return u(s,[{key:"getDom",value:function(){return this.dom}},{key:"getPosition",value:function(){return this.position}},{key:"getQuaternion",value:function(){return this.quaternion}},{key:"getTarget",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt;return e.copy(this.target),this.settings.general.orbit||e.add(this.position),e}},{key:"getViewDirection",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new kt;return this.rotationManager.getViewDirection(e)}},{key:"setDom",value:function(e){var t=this.enabled;return null!==e&&(t&&this.setEnabled(!1),this.dom=e,this.setEnabled(t)),this}},{key:"setPosition",value:function(e){return this.position=e,this.rotationManager.setPosition(e),this.translationManager.setPosition(e),this.lookAt(this.target)}},{key:"setQuaternion",value:function(e){return this.quaternion=e,this.rotationManager.setQuaternion(e),this.translationManager.setQuaternion(e),this.lookAt(this.target)}},{key:"setTarget",value:function(e){return this.target=e,this.rotationManager.setTarget(e),this.translationManager.setTarget(e),this.lookAt(this.target)}},{key:"setOrbitEnabled",value:function(e){var t=this.settings.general;return t.orbit!==e&&(this.getTarget(this.target),t.orbit=e,this.lookAt(this.target)),this}},{key:"copy",value:function(e){return this.dom=e.getDom(),this.position=e.getPosition(),this.quaternion=e.getQuaternion(),this.target=e.getTarget(),this.settings.copy(e.settings),this.rotationManager.setPosition(this.position).setQuaternion(this.quaternion).setTarget(this.target),this.translationManager.setPosition(this.position).setQuaternion(this.quaternion).setTarget(this.target),this.lookAt(this.target)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"handlePointerMoveEvent",value:function(e){var t=this.settings,n=t.pointer,r=t.sensitivity,i=this.rotationManager,a=this.lastScreenPosition,s=void 0,o=void 0;document.pointerLockElement===this.dom?n.hold&&!this.dragging||i.adjustSpherical(e.movementX*r.rotation,e.movementY*r.rotation).updateQuaternion():(s=e.screenX-a.x,o=e.screenY-a.y,a.set(e.screenX,e.screenY),i.adjustSpherical(s*r.rotation,o*r.rotation).updateQuaternion())}},{key:"handleTouchMoveEvent",value:function(e){var t=this.settings.sensitivity,n=this.rotationManager,r=this.lastScreenPosition,i=e.touches[0],a=i.screenX-r.x,s=i.screenY-r.y;r.set(i.screenX,i.screenY),e.preventDefault(),n.adjustSpherical(a*t.rotation,s*t.rotation).updateQuaternion()}},{key:"handleMainPointerButton",value:function(e,t){this.dragging=t,this.settings.pointer.lock?this.setPointerLocked():t?(this.lastScreenPosition.set(e.screenX,e.screenY),this.dom.addEventListener("mousemove",this)):this.dom.removeEventListener("mousemove",this)}},{key:"handleAuxiliaryPointerButton",value:function(e,t){}},{key:"handleSecondaryPointerButton",value:function(e,t){}},{key:"handlePointerButtonEvent",value:function(e,t){switch(e.preventDefault(),e.button){case nn:this.handleMainPointerButton(e,t);break;case rn:this.handleAuxiliaryPointerButton(e,t);break;case an:this.handleSecondaryPointerButton(e,t)}}},{key:"handleTouchEvent",value:function(e,t){var n=e.touches[0];e.preventDefault(),t?(this.lastScreenPosition.set(n.screenX,n.screenY),this.dom.addEventListener("touchmove",this)):this.dom.removeEventListener("touchmove",this)}},{key:"handleKeyboardEvent",value:function(e,t){var n=this.settings.keyBindings;n.has(e.keyCode)&&(e.preventDefault(),this.strategies.get(n.get(e.keyCode)).execute(t))}},{key:"handleWheelEvent",value:function(e){this.rotationManager.zoom(Math.sign(e.deltaY))}},{key:"handlePointerLockEvent",value:function(){document.pointerLockElement===this.dom?this.dom.addEventListener("mousemove",this):this.dom.removeEventListener("mousemove",this)}},{key:"handleEvent",value:function(e){switch(e.type){case"mousemove":this.handlePointerMoveEvent(e);break;case"touchmove":this.handleTouchMoveEvent(e);break;case"mousedown":this.handlePointerButtonEvent(e,!0);break;case"mouseup":this.handlePointerButtonEvent(e,!1);break;case"touchstart":this.handleTouchEvent(e,!0);break;case"touchend":this.handleTouchEvent(e,!1);break;case"keydown":this.handleKeyboardEvent(e,!0);break;case"keyup":this.handleKeyboardEvent(e,!1);break;case"wheel":this.handleWheelEvent(e);break;case"pointerlockchange":this.handlePointerLockEvent()}}},{key:"update",value:function(e){this.rotationManager.update(e),this.translationManager.update(e)}},{key:"moveTo",value:function(e){return this.rotationManager.moveTo(e),this}},{key:"lookAt",value:function(e){return this.rotationManager.lookAt(e),this}},{key:"setPointerLocked",value:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?document.pointerLockElement!==this.dom&&void 0!==this.dom.requestPointerLock&&this.dom.requestPointerLock():void 0!==document.exitPointerLock&&document.exitPointerLock()}},{key:"setEnabled",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.dom;return this.translationManager.movementState.reset(),e&&!this.enabled?(document.addEventListener("pointerlockchange",this),document.body.addEventListener("keyup",this),document.body.addEventListener("keydown",this),t.addEventListener("mousedown",this),t.addEventListener("mouseup",this),t.addEventListener("touchstart",this),t.addEventListener("touchend",this),t.addEventListener("wheel",this)):!e&&this.enabled&&(document.removeEventListener("pointerlockchange",this),document.body.removeEventListener("keyup",this),document.body.removeEventListener("keydown",this),t.removeEventListener("mousedown",this),t.removeEventListener("mouseup",this),t.removeEventListener("touchstart",this),t.removeEventListener("touchend",this),t.removeEventListener("wheel",this),t.removeEventListener("mousemove",this),t.removeEventListener("touchmove",this)),this.setPointerLocked(!1),this.enabled=e,this}},{key:"dispose",value:function(){this.setEnabled(!1)}}]),s}(),Bn=function(e){function r(e,t){l(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.composer=t,n.renderPass=new Re(n.scene,null),n.renderPass.renderToScreen=!0,n}return c(r,n),u(r,[{key:"render",value:function(e){this.composer.render(e)}},{key:"reset",value:function(){h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"reset",this).call(this);var e=new Re(this.scene,null);return e.enabled=this.renderPass.enabled,e.renderToScreen=!0,this.renderPass=e,this}}]),r}(),zn=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"bloom",e));return t.bloomPass=null,t.texturePass=null,t.object=null,t}return c(r,Bn),u(r,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/space2/",r=".jpg",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.01,2e3);i.position.set(-10,6,15),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Object3D,u=new w.SphereBufferGeometry(1,4,4),h=void 0,c=void 0,d=void 0;for(c=0;c<100;++c)h=new w.MeshPhongMaterial({color:16777215*Math.random(),flatShading:!0}),(d=new w.Mesh(u,h)).position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),d.position.multiplyScalar(4*Math.random()),d.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),d.scale.multiplyScalar(.5*Math.random()),l.add(d);this.object=l,e.add(l),d=new w.Mesh(new w.BoxBufferGeometry(.25,8.25,.25),new w.MeshLambertMaterial({color:723723}));var f=void 0,v=void 0,g=void 0;f=(l=new w.Object3D).clone();var m=d.clone();m.position.set(-4,0,4),f.add(m),(m=d.clone()).position.set(4,0,4),f.add(m),(m=d.clone()).position.set(-4,0,-4),f.add(m),(m=d.clone()).position.set(4,0,-4),f.add(m),(v=f.clone()).rotation.set(Math.PI/2,0,0),(g=f.clone()).rotation.set(0,0,Math.PI/2),l.add(f),l.add(v),l.add(g),e.add(l),this.renderPass.renderToScreen=!1;var y=new Ee({resolutionScale:.5,intensity:2,distinction:4});y.renderToScreen=!0,this.bloomPass=y,n.addPass(y);var p=new _e(y.overlay);p.renderToScreen=!0,p.enabled=!1,p.opacityDestination=0,this.texturePass=p,n.addPass(p)}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=.001,t.rotation.y+=.005,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.composer,n=this.bloomPass,r=this.texturePass,i={resolution:n.resolutionScale,"kernel size":n.kernelSize,"blend mode":"screen"};e.add(i,"resolution").min(0).max(1).step(.01).onChange(function(){n.resolutionScale=i.resolution,t.setSize()}),e.add(i,"kernel size").min(O.VERY_SMALL).max(O.HUGE).step(1).onChange(function(){n.kernelSize=i["kernel size"]}),e.add(n,"intensity").min(0).max(4).step(.01).onChange(function(){r.opacitySource=n.intensity});var a=e.addFolder("Luminance");a.add(n,"distinction").min(1).max(10).step(.1),a.open(),e.add(n,"blend").onChange(function(){n.renderToScreen=n.blend,r.enabled=!n.blend}),e.add(n,"dithering"),e.add(i,"blend mode",["add","screen"]).onChange(function(){n.combineMaterial.setScreenModeEnabled("add"!==i["blend mode"])})}}]),r}(),Tn=function(e){function n(e){l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"bokeh",e));return t.bokehPass=null,t}return c(n,Bn),u(n,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/space3/",r=".jpg",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,50);i.position.set(12.5,-.3,1.7),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.rotation=425e-6,a.settings.sensitivity.zoom=.15,a.settings.zoom.minDistance=11.5,a.settings.zoom.maxDistance=40,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(4210752),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.CylinderBufferGeometry(1,1,20,6),u=new w.MeshPhongMaterial({color:16755370,flatShading:!0,envMap:t.get("sky")}),h=new w.Mesh(l,u);h.rotation.set(0,0,Math.PI/2),e.add(h);var c=new Pe(i,{focus:.32,dof:.02,aperture:.015,maxBlur:.025});this.renderPass.renderToScreen=!1,c.renderToScreen=!0,this.bokehPass=c,n.addPass(c)}},{key:"registerOptions",value:function(e){var t=this.bokehPass,n={focus:t.material.uniforms.focus.value,dof:t.material.uniforms.dof.value,aperture:t.material.uniforms.aperture.value,blur:t.material.uniforms.maxBlur.value};e.add(n,"focus").min(0).max(1).step(.001).onChange(function(){t.material.uniforms.focus.value=n.focus}),e.add(n,"dof").min(0).max(1).step(.001).onChange(function(){t.material.uniforms.dof.value=n.dof}),e.add(n,"aperture").min(0).max(.05).step(1e-4).onChange(function(){t.material.uniforms.aperture.value=n.aperture}),e.add(n,"blur").min(0).max(.1).step(.001).onChange(function(){t.material.uniforms.maxBlur.value=n.blur})}}]),n}(),On=function(e){function n(e){l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"realistic-bokeh",e));return t.bokehPass=null,t}return c(n,Bn),u(n,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/space3/",r=".jpg",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.01,50);i.position.set(3,1,3),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=.25,a.settings.zoom.minDistance=2.5,a.settings.zoom.maxDistance=40,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.SphereBufferGeometry(1,64,64),u=new w.MeshBasicMaterial({color:16776960,envMap:t.get("sky")}),h=new w.Mesh(l,u);e.add(h);var c=new Ne(i,{rings:5,samples:5,showFocus:!1,manualDoF:!0,vignette:!0,pentagon:!0,shaderFocus:!0,noise:!1,maxBlur:2,luminanceThreshold:.15,luminanceGain:3.5,bias:.25,fringe:.33});this.renderPass.renderToScreen=!1,c.renderToScreen=!0,this.bokehPass=c,n.addPass(c)}},{key:"registerOptions",value:function(e){var t=this.bokehPass,n={rings:Number.parseInt(t.material.defines.RINGS_INT),samples:Number.parseInt(t.material.defines.SAMPLES_INT),"focal stop":t.material.uniforms.focalStop.value,"focal length":t.material.uniforms.focalLength.value,"shader focus":void 0!==t.material.defines.SHADER_FOCUS,"focal depth":t.material.uniforms.focalDepth.value,"focus coord X":t.material.uniforms.focusCoords.value.x,"focus coord Y":t.material.uniforms.focusCoords.value.y,"max blur":t.material.uniforms.maxBlur.value,"lum threshold":t.material.uniforms.luminanceThreshold.value,"lum gain":t.material.uniforms.luminanceGain.value,bias:t.material.uniforms.bias.value,fringe:t.material.uniforms.fringe.value,dithering:t.material.uniforms.ditherStrength.value,vignette:void 0!==t.material.defines.VIGNETTE,pentagon:void 0!==t.material.defines.PENTAGON,"manual DoF":void 0!==t.material.defines.MANUAL_DOF,"show focus":void 0!==t.material.defines.SHOW_FOCUS,noise:void 0!==t.material.defines.NOISE},r=e.addFolder("Focus");r.add(n,"show focus").onChange(function(){t.material.setShowFocusEnabled(n["show focus"])}),r.add(n,"shader focus").onChange(function(){t.material.setShaderFocusEnabled(n["shader focus"])}),r.add(n,"manual DoF").onChange(function(){t.material.setManualDepthOfFieldEnabled(n["manual DoF"])}),r.add(n,"focal stop").min(0).max(100).step(.1).onChange(function(){t.material.uniforms.focalStop.value=n["focal stop"]}),r.add(n,"focal depth").min(.1).max(35).step(.1).onChange(function(){t.material.uniforms.focalDepth.value=n["focal depth"]}),r.add(n,"focus coord X").min(0).max(1).step(.01).onChange(function(){t.material.uniforms.focusCoords.value.x=n["focus coord X"]}),r.add(n,"focus coord Y").min(0).max(1).step(.01).onChange(function(){t.material.uniforms.focusCoords.value.y=n["focus coord Y"]}),r.open(),(r=e.addFolder("Sampling")).add(n,"rings").min(1).max(6).step(1).onChange(function(){t.material.defines.RINGS_INT=n.rings.toFixed(0),t.material.defines.RINGS_FLOAT=n.rings.toFixed(1),t.material.needsUpdate=!0}),r.add(n,"samples").min(1).max(6).step(1).onChange(function(){t.material.defines.SAMPLES_INT=n.samples.toFixed(0),t.material.defines.SAMPLES_FLOAT=n.samples.toFixed(1),t.material.needsUpdate=!0}),(r=e.addFolder("Blur")).add(n,"max blur").min(0).max(10).step(.001).onChange(function(){t.material.uniforms.maxBlur.value=n["max blur"]}),r.add(n,"bias").min(0).max(3).step(.01).onChange(function(){t.material.uniforms.bias.value=n.bias}),r.add(n,"fringe").min(0).max(2).step(.05).onChange(function(){t.material.uniforms.fringe.value=n.fringe}),r.add(n,"noise").onChange(function(){t.material.setNoiseEnabled(n.noise)}),r.add(n,"dithering").min(0).max(.01).step(1e-4).onChange(function(){t.material.uniforms.ditherStrength.value=n.dithering}),r.add(n,"pentagon").onChange(function(){t.material.setPentagonEnabled(n.pentagon)}),r.open(),(r=e.addFolder("Luminosity")).add(n,"lum threshold").min(0).max(1).step(.01).onChange(function(){t.material.uniforms.luminanceThreshold.value=n["lum threshold"]}),r.add(n,"lum gain").min(0).max(4).step(.01).onChange(function(){t.material.uniforms.luminanceGain.value=n["lum gain"]}),e.add(n,"vignette").onChange(function(){t.material.setVignetteEnabled(n.vignette)})}}]),n}(),In=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"blur",e));return t.savePass=null,t.blurPass=null,t.texturePass=null,t.object=null,t}return c(r,Bn),u(r,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/sunset/",r=".png",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(-15,0,-15),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(1440,200,2e3),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Object3D,u=new w.SphereBufferGeometry(1,4,4),h=void 0,c=void 0,d=void 0;for(c=0;c<100;++c)h=new w.MeshPhongMaterial({color:16777215*Math.random(),flatShading:!0}),(d=new w.Mesh(u,h)).position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),d.position.multiplyScalar(10*Math.random()),d.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),d.scale.multiplyScalar(Math.random()),l.add(d);this.object=l,e.add(l);var f=new We;this.savePass=f,n.addPass(f),f=new Se,this.blurPass=f,n.addPass(f),f=new _e(this.savePass.renderTarget.texture,0,!1),this.renderPass.renderToScreen=!1,f.renderToScreen=!0,this.texturePass=f,n.addPass(f)}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=.001,t.rotation.y+=.005,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.composer,n=this.renderPass,r=this.blurPass,i=this.texturePass,a={enabled:r.enabled,resolution:r.resolutionScale,"kernel size":r.kernelSize,strength:i.opacityDestination};e.add(a,"resolution").min(0).max(1).step(.01).onChange(function(){r.resolutionScale=a.resolution,t.setSize()}),e.add(a,"kernel size").min(O.VERY_SMALL).max(O.HUGE).step(1).onChange(function(){r.kernelSize=a["kernel size"]}),e.add(a,"strength").min(0).max(1).step(.01).onChange(function(){i.opacityDestination=a.strength,i.opacitySource=1-a.strength}),e.add(r,"dithering"),e.add(a,"enabled").onChange(function(){n.renderToScreen=!a.enabled,r.enabled=a.enabled,i.enabled=a.enabled})}}]),r}(),Ln=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"depth",e));return t.object=null,t}return c(r,Bn),u(r,[{key:"initialize",value:function(){var e=this.scene,t=this.composer.renderer,n=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,2,10);n.position.set(2,1,2),n.lookAt(e.position),this.camera=n;var r=new bn(n.position,n.quaternion,t.domElement);r.settings.pointer.lock=!1,r.settings.translation.enabled=!1,r.settings.sensitivity.zoom=.25,r.settings.zoom.minDistance=3,r.settings.zoom.maxDistance=9,r.lookAt(e.position),this.controls=r,t.setClearColor(0);var i=new w.Mesh(new w.DodecahedronBufferGeometry(1),new w.MeshBasicMaterial);this.object=i,e.add(i),this.renderPass.overrideMaterial=new w.MeshDepthMaterial}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=.001,t.rotation.y+=.005,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.renderPass;e.add(t.overrideMaterial,"dithering").onChange(function(){t.overrideMaterial.needsUpdate=!0})}}]),r}(),Fn=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"dot-screen",e));return t.dotScreenPass=null,t.object=null,t}return c(r,Bn),u(r,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/space3/",r=".jpg",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(10,1,10),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Object3D,u=new w.SphereBufferGeometry(1,4,4),h=void 0,c=void 0,d=void 0;for(d=0;d<100;++d)h=new w.MeshPhongMaterial({color:16777215*Math.random(),flatShading:!0}),(c=new w.Mesh(u,h)).position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),c.position.multiplyScalar(10*Math.random()),c.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),c.scale.multiplyScalar(Math.random()),l.add(c);this.object=l,e.add(l);var f=new Te({scale:.8,angle:.5*Math.PI,intensity:.25});this.renderPass.renderToScreen=!1,f.renderToScreen=!0,this.dotScreenPass=f,n.addPass(f)}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=5e-4,t.rotation.y+=.001,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.dotScreenPass,n={average:void 0!==t.material.defines.AVERAGE,scale:t.material.uniforms.scale.value,angle:t.material.uniforms.angle.value,intensity:t.material.uniforms.intensity.value,"center X":t.material.uniforms.offsetRepeat.value.x,"center Y":t.material.uniforms.offsetRepeat.value.y};e.add(n,"average").onChange(function(){t.material.setAverageEnabled(n.average)}),e.add(n,"scale").min(0).max(1).step(.01).onChange(function(){t.material.uniforms.scale.value=n.scale}),e.add(n,"angle").min(0).max(Math.PI).step(.001).onChange(function(){t.material.uniforms.angle.value=n.angle}),e.add(n,"intensity").min(0).max(1).step(.01).onChange(function(){t.material.uniforms.intensity.value=n.intensity});var r=e.addFolder("Center");r.add(n,"center X").min(-1).max(1).step(.01).onChange(function(){t.material.uniforms.offsetRepeat.value.x=n["center X"]}),r.add(n,"center Y").min(-1).max(1).step(.01).onChange(function(){t.material.uniforms.offsetRepeat.value.y=n["center Y"]})}}]),r}(),Un=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"film",e));return t.filmPass=null,t.object=null,t}return c(r,Bn),u(r,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/space/",r=".jpg",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(10,1,10),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Object3D,u=new w.SphereBufferGeometry(1,4,4),h=void 0,c=void 0,d=void 0;for(d=0;d<100;++d)h=new w.MeshPhongMaterial({color:16777215*Math.random(),flatShading:!0}),(c=new w.Mesh(u,h)).position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),c.position.multiplyScalar(10*Math.random()),c.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),c.scale.multiplyScalar(Math.random()),l.add(c);this.object=l,e.add(l);var f=new Oe({grayscale:!1,sepia:!0,vignette:!0,eskil:!0,scanlines:!0,grid:!1,noise:!0,noiseIntensity:.5,scanlineIntensity:.5,gridIntensity:.2,scanlineDensity:1.5,gridScale:1.25,greyscaleIntensity:1,sepiaIntensity:.5,vignetteOffset:1,vignetteDarkness:1});this.renderPass.renderToScreen=!1,f.renderToScreen=!0,this.filmPass=f,n.addPass(f)}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=.001,t.rotation.y+=.005,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.composer,n=this.filmPass,r=n.material.uniforms,i={greyscale:void 0!==n.material.defines.GREYSCALE,sepia:void 0!==n.material.defines.SEPIA,vignette:void 0!==n.material.defines.VIGNETTE,eskil:void 0!==n.material.defines.ESKIL,noise:void 0!==n.material.defines.NOISE,scanlines:void 0!==n.material.defines.SCANLINES,grid:void 0!==n.material.defines.GRID,"noise intensity":r.noiseIntensity.value,"scanlines intensity":r.scanlineIntensity.value,"grid intensity":r.gridIntensity.value,"scanlines count":n.scanlineDensity,"grid scale":n.gridScale,"grid line width":n.gridLineWidth,"blend mode":"screen","greyscale intensity":r.greyscaleIntensity.value,"sepia intensity":r.sepiaIntensity.value,"vignette offset":r.vignetteOffset.value,"vignette darkness":r.vignetteDarkness.value},a=e.addFolder("Greyscale");a.add(i,"greyscale").onChange(function(){n.material.setGreyscaleEnabled(i.greyscale)}),a.add(i,"greyscale intensity").min(0).max(1).step(.01).onChange(function(){r.greyscaleIntensity.value=i["greyscale intensity"]}),(a=e.addFolder("Noise, Scanlines and Grid")).add(i,"blend mode",["add","screen"]).onChange(function(){n.material.setScreenModeEnabled("add"!==i["blend mode"])}),a.add(i,"noise").onChange(function(){n.material.setNoiseEnabled(i.noise)}),a.add(i,"noise intensity").min(0).max(1).step(.01).onChange(function(){r.noiseIntensity.value=i["noise intensity"]}),a.add(i,"scanlines").onChange(function(){n.material.setScanlinesEnabled(i.scanlines)}),a.add(i,"scanlines intensity").min(0).max(1).step(.01).onChange(function(){r.scanlineIntensity.value=i["scanlines intensity"]}),a.add(i,"scanlines count").min(0).max(2).step(.01).onChange(function(){n.scanlineDensity=i["scanlines count"],t.setSize()}),a.add(i,"grid").onChange(function(){n.material.setGridEnabled(i.grid)}),a.add(i,"grid intensity").min(0).max(1).step(.01).onChange(function(){r.gridIntensity.value=i["grid intensity"]}),a.add(i,"grid scale").min(.01).max(2).step(.01).onChange(function(){n.gridScale=i["grid scale"],t.setSize()}),a.add(i,"grid line width").min(0).max(1).step(.001).onChange(function(){n.gridLineWidth=i["grid line width"],t.setSize()}),(a=e.addFolder("Sepia")).add(i,"sepia").onChange(function(){n.material.setSepiaEnabled(i.sepia)}),a.add(i,"sepia intensity").min(0).max(1).step(.01).onChange(function(){r.sepiaIntensity.value=i["sepia intensity"]}),(a=e.addFolder("Vignette")).add(i,"vignette").onChange(function(){n.material.setVignetteEnabled(i.vignette)}),a.add(i,"eskil").onChange(function(){n.material.setEskilEnabled(i.eskil)}),a.add(i,"vignette offset").min(0).max(1).step(.01).onChange(function(){r.vignetteOffset.value=i["vignette offset"]}),a.add(i,"vignette darkness").min(0).max(1).step(.01).onChange(function(){r.vignetteDarkness.value=i["vignette darkness"]})}}]),r}(),Rn=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"glitch",e));return t.glitchPass=null,t.object=null,t}return c(r,Bn),u(r,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.TextureLoader(n),a=new w.CubeTextureLoader(n),e="textures/skies/space4/",r=".jpg",s=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},a.load(s,function(e){t.set("sky",e)}),i.load("textures/perturb.jpg",function(e){e.magFilter=e.minFilter=w.NearestFilter,t.set("perturb-map",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(6,1,6),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Object3D,u=new w.SphereBufferGeometry(1,4,4),h=void 0,c=void 0,d=void 0;for(d=0;d<100;++d)h=new w.MeshPhongMaterial({color:16777215*Math.random(),flatShading:!0}),(c=new w.Mesh(u,h)).position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),c.position.multiplyScalar(10*Math.random()),c.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),c.scale.multiplyScalar(Math.random()),l.add(c);this.object=l,e.add(l);var f=new Fe({perturbMap:t.get("perturb-map")});this.renderPass.renderToScreen=!1,f.renderToScreen=!0,this.glitchPass=f,n.addPass(f)}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=.001,t.rotation.y+=.005,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.glitchPass,n=t.perturbMap,r={mode:t.mode,"custom noise":!0};e.add(r,"mode").min(Ue.SPORADIC).max(Ue.CONSTANT_WILD).step(1).onChange(function(){t.mode=r.mode}),e.add(r,"custom noise").onChange(function(){r["custom noise"]?t.perturbMap=n:t.generatePerturbMap(64)})}}]),r}(),Gn=new w.Vector2,Qn=function(e){function n(e){l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"outline",e));return t.raycaster=null,t.selectedObject=null,t.outlinePass=null,t}return c(n,Bn),u(n,[{key:"raycast",value:function(e){var t,n=this.raycaster,r=void 0;Gn.x=e.clientX/window.innerWidth*2-1,Gn.y=-e.clientY/window.innerHeight*2+1,n.setFromCamera(Gn,this.camera),t=n.intersectObjects(this.scene.children),null!==this.selectedObject&&(this.selectedObject=null),0<t.length&&(void 0!==(r=t[0]).object?this.selectedObject=r.object:console.warn("Encountered an undefined object",t))}},{key:"handleSelection",value:function(){var e=this.outlinePass,t=e.selection,n=this.selectedObject;null!==n&&(0<=t.indexOf(n)?e.deselectObject(n):e.selectObject(n))}},{key:"handleEvent",value:function(e){switch(e.type){case"mousemove":this.raycast(e);break;case"mousedown":this.handleSelection()}}},{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.TextureLoader(n),a=new w.CubeTextureLoader(n),e="textures/skies/sunset/",r=".png",s=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},a.load(s,function(e){t.set("sky",e)}),i.load("textures/tripattern.jpg",function(e){e.wrapS=e.wrapT=w.RepeatWrapping,t.set("pattern-color",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(-4,1.25,-5),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(4210752),o=new w.DirectionalLight(16759722);o.position.set(1440,200,2e3),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Mesh(new w.SphereBufferGeometry(1,32,32),new w.MeshPhongMaterial({color:16776960}));l.position.set(2,0,-2),e.add(l),(l=new w.Mesh(new w.ConeBufferGeometry(1,1,32),new w.MeshPhongMaterial({color:65280}))).position.set(-2,0,2),e.add(l),(l=new w.Mesh(new w.OctahedronBufferGeometry,new w.MeshPhongMaterial({color:16711935}))).position.set(2,0,2),e.add(l),(l=new w.Mesh(new w.BoxBufferGeometry(1,1,1),new w.MeshPhongMaterial({color:65535}))).position.set(-2,0,-2),e.add(l),this.raycaster=new w.Raycaster,r.domElement.addEventListener("mousemove",this),r.domElement.addEventListener("mousedown",this);var u=new Ve(e,i,{edgeStrength:2.5,patternScale:7.5});u.setSelection(e.children),u.deselectObject(l),this.renderPass.renderToScreen=!1,u.renderToScreen=!0,this.outlinePass=u,n.addPass(u)}},{key:"registerOptions",value:function(e){var t=this.assets,n=this.composer,r=this.outlinePass,i={resolution:r.resolutionScale,"kernel size":r.kernelSize,"use pattern":!1,"pattern scale":r.outlineBlendMaterial.uniforms.patternScale.value,"edge strength":r.outlineBlendMaterial.uniforms.edgeStrength.value,"pulse speed":r.pulseSpeed,"visible edge":r.outlineBlendMaterial.uniforms.visibleEdgeColor.value.getHex(),"hidden edge":r.outlineBlendMaterial.uniforms.hiddenEdgeColor.value.getHex(),"alpha blending":!1,"x-ray":!0};e.add(i,"resolution").min(0).max(1).step(.01).onChange(function(){r.resolutionScale=i.resolution,n.setSize()}),e.add(i,"kernel size").min(O.VERY_SMALL).max(O.HUGE).step(1).onChange(function(){r.kernelSize=i["kernel size"]}),e.add(r,"blur"),e.add(r,"dithering"),e.add(i,"use pattern").onChange(function(){r.setPatternTexture(i["use pattern"]?t.get("pattern-color"):null)}),e.add(i,"pattern scale").min(1).max(10).step(.01).onChange(function(){r.outlineBlendMaterial.uniforms.patternScale.value=i["pattern scale"]}),e.add(i,"edge strength").min(0).max(10).step(.01).onChange(function(){r.outlineBlendMaterial.uniforms.edgeStrength.value=i["edge strength"]}),e.add(i,"pulse speed").min(0).max(2).step(.01).onChange(function(){r.pulseSpeed=i["pulse speed"]}),e.addColor(i,"visible edge").onChange(function(){r.outlineBlendMaterial.uniforms.visibleEdgeColor.value.setHex(i["visible edge"])}),e.addColor(i,"hidden edge").onChange(function(){r.outlineBlendMaterial.uniforms.hiddenEdgeColor.value.setHex(i["hidden edge"])}),e.add(i,"alpha blending").onChange(function(){r.outlineBlendMaterial.setAlphaBlendingEnabled(i["alpha blending"])}),e.add(i,"x-ray").onChange(function(){r.outlineBlendMaterial.setXRayEnabled(i["x-ray"])})}},{key:"reset",value:function(){h(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"reset",this).call(this);var e=this.composer.renderer.domElement;return e.removeEventListener("mousemove",this),e.removeEventListener("mousedown",this),this}}]),n}(),Yn=function(e){function a(e){l(this,a);var t=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"pixelation",e));return t.object=null,t.maskObject=null,t.maskPass=null,t.pixelationPass=null,t}return c(a,Bn),u(a,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/space/",r=".jpg",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(10,1,10),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Object3D,u=new w.SphereBufferGeometry(1,4,4),h=void 0,c=void 0,d=void 0;for(d=0;d<100;++d)h=new w.MeshPhongMaterial({color:16777215*Math.random(),flatShading:!0}),(c=new w.Mesh(u,h)).position.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),c.position.multiplyScalar(10*Math.random()),c.rotation.set(2*Math.random(),2*Math.random(),2*Math.random()),c.scale.multiplyScalar(Math.random()),l.add(c);this.object=l,e.add(l);var f=new w.Scene;c=new w.Mesh(new w.BoxBufferGeometry(4,4,4)),this.maskObject=c,f.add(c),this.renderPass.renderToScreen=!1;var v=new Ye(f,i);v.renderToScreen=!0,this.maskPass=v,n.addPass(v),(v=new je(5)).renderToScreen=!0,this.pixelationPass=v,n.addPass(v),n.addPass(new be)}},{key:"render",value:function(e){var t=this.object,n=this.maskObject,r=2*Math.PI,i=.001*performance.now();t.rotation.x+=.001,t.rotation.y+=.005,t.rotation.x>=r&&(t.rotation.x-=r),t.rotation.y>=r&&(t.rotation.y-=r),n.position.x=4*Math.cos(i/1.5),n.position.y=4*Math.sin(i),n.rotation.x=i,n.rotation.y=.5*i,h(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.maskPass,n={"use mask":t.enabled};e.add(this.pixelationPass,"granularity").min(0).max(50).step(.1),e.add(n,"use mask").onChange(function(){t.enabled=n["use mask"]})}}]),a}(),Hn=function(e){function n(e){l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"god-rays",e));return t.godRaysPass=null,t.sun=null,t.directionalLight=null,t}return c(n,Bn),u(n,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),a=new w.TextureLoader(n),s=new w.ObjectLoader(n),e="textures/skies/starry/",r=".png",o=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(o,function(e){t.set("sky",e)}),s.load("models/waggon.json",function(e){e.rotation.x=.25*Math.PI,e.rotation.y=.75*Math.PI,t.set("waggon",e)}),a.load("textures/wood.jpg",function(e){e.wrapS=e.wrapT=w.RepeatWrapping,t.set("wood-diffuse",e)}),a.load("textures/woodnormals.jpg",function(e){e.wrapS=e.wrapT=w.RepeatWrapping,t.set("wood-normals",e)}),a.load("textures/sun.png",function(e){t.set("sun-diffuse",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(-5,-1,-4),this.camera=i;var a=new w.Vector3(0,.5,0),s=new bn(i.position,i.quaternion,r.domElement);s.settings.pointer.lock=!1,s.settings.translation.enabled=!1,s.settings.sensitivity.rotation=.00125,s.settings.sensitivity.zoom=1,s.lookAt(a),this.controls=s,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var o=new w.AmbientLight(986895),l=new w.DirectionalLight(16759722);l.position.set(-1,1,1),l.target.position.copy(e.position),this.directionalLight=l,e.add(l),e.add(o);var u=t.get("waggon"),h=new w.MeshPhongMaterial({color:16777215,map:t.get("wood-diffuse"),normalMap:t.get("wood-normals"),fog:!0});u.traverse(function(e){e.material=h}),e.add(u);var c=new w.PointsMaterial({map:t.get("sun-diffuse"),size:100,sizeAttenuation:!0,color:16768426,alphaTest:0,transparent:!0,fog:!1}),d=new w.BufferGeometry;d.addAttribute("position",new w.BufferAttribute(new Float32Array(3),3));var f=new w.Points(d,c);f.frustumCulled=!1,f.position.set(75,25,100),this.sun=f,e.add(f);var v=new Qe(e,i,f,{resolutionScale:.6,kernelSize:O.SMALL,intensity:1,density:.96,decay:.93,weight:.4,exposure:.6,samples:60,clampMax:1});this.renderPass.renderToScreen=!1,v.renderToScreen=!0,v.dithering=!0,this.godRaysPass=v,n.addPass(v)}},{key:"registerOptions",value:function(e){var t=this.directionalLight,n=this.composer,r=this.godRaysPass,i=this.sun,a={resolution:r.resolutionScale,blurriness:r.kernelSize,intensity:r.intensity,density:r.godRaysMaterial.uniforms.density.value,decay:r.godRaysMaterial.uniforms.decay.value,weight:r.godRaysMaterial.uniforms.weight.value,exposure:r.godRaysMaterial.uniforms.exposure.value,clampMax:r.godRaysMaterial.uniforms.clampMax.value,samples:r.samples,color:i.material.color.getHex(),"blend mode":"screen"};e.add(a,"resolution").min(0).max(1).step(.01).onChange(function(){r.resolutionScale=a.resolution,n.setSize()}),e.add(r,"dithering"),e.add(a,"blurriness").min(O.VERY_SMALL).max(O.HUGE).step(1).onChange(function(){r.kernelSize=a.blurriness}),e.add(a,"intensity").min(0).max(1).step(.01).onChange(function(){r.intensity=a.intensity}),e.add(a,"density").min(0).max(1).step(.01).onChange(function(){r.godRaysMaterial.uniforms.density.value=a.density}),e.add(a,"decay").min(0).max(1).step(.01).onChange(function(){r.godRaysMaterial.uniforms.decay.value=a.decay}),e.add(a,"weight").min(0).max(1).step(.01).onChange(function(){r.godRaysMaterial.uniforms.weight.value=a.weight}),e.add(a,"exposure").min(0).max(1).step(.01).onChange(function(){r.godRaysMaterial.uniforms.exposure.value=a.exposure}),e.add(a,"clampMax").min(0).max(1).step(.01).onChange(function(){r.godRaysMaterial.uniforms.clampMax.value=a.clampMax}),e.add(a,"samples").min(15).max(200).step(1).onChange(function(){r.samples=a.samples}),e.addColor(a,"color").onChange(function(){i.material.color.setHex(a.color),t.color.setHex(a.color)}),e.add(a,"blend mode",["add","screen"]).onChange(function(){r.combineMaterial.setScreenModeEnabled("add"!==a["blend mode"])})}}]),n}(),Vn=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"render",e));return t.object=null,t}return c(r,Bn),u(r,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.TextureLoader(n),a=new w.CubeTextureLoader(n),e="textures/skies/sunset/",r=".png",s=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},a.load(s,function(e){t.set("sky",e)}),i.load("textures/crate.jpg",function(e){e.wrapS=e.wrapT=w.RepeatWrapping,t.set("crate-color",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer.renderer,r=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);r.position.set(-3,0,-3),r.lookAt(e.position),this.camera=r;var i=new bn(r.position,r.quaternion,n.domElement);i.settings.pointer.lock=!1,i.settings.translation.enabled=!1,i.settings.sensitivity.zoom=1,i.lookAt(e.position),this.controls=i,e.fog=new w.FogExp2(0,.0025),n.setClearColor(e.fog.color),e.background=t.get("sky");var a=new w.AmbientLight(6710886),s=new w.DirectionalLight(16759722);s.position.set(1440,200,2e3),s.target.position.copy(e.position),e.add(s),e.add(a);var o=new w.Mesh(new w.BoxBufferGeometry(1,1,1),new w.MeshPhongMaterial({color:16777215,map:t.get("crate-color")}));this.object=o,e.add(o)}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=5e-4,t.rotation.y+=.001,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}}]),r}(),jn=function(e){function n(e){l(this,n);var t=d(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"shock-wave",e));return t.shockWavePass=null,t}return c(n,Bn),u(n,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.CubeTextureLoader(n),e="textures/skies/space3/",r=".jpg",a=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},i.load(a,function(e){t.set("sky",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(5,1,5),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(-1,1,1),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.SphereBufferGeometry(1,64,64),u=new w.MeshBasicMaterial({color:16776960,envMap:t.get("sky")}),h=new w.Mesh(l,u);e.add(h);var c=new Je(i,h.position,{speed:1,maxRadius:.5,waveSize:.2,amplitude:.05});this.renderPass.renderToScreen=!1,c.renderToScreen=!0,this.shockWavePass=c,n.addPass(c)}},{key:"registerOptions",value:function(e){var t=this.shockWavePass,n={speed:t.speed,size:t.shockWaveMaterial.uniforms.size.value,extent:t.shockWaveMaterial.uniforms.maxRadius.value,waveSize:t.shockWaveMaterial.uniforms.waveSize.value,amplitude:t.shockWaveMaterial.uniforms.amplitude.value};e.add(n,"speed").min(0).max(10).step(.001).onChange(function(){t.speed=n.speed}),e.add(n,"size").min(.01).max(2).step(.001).onChange(function(){t.shockWaveMaterial.uniforms.size.value=n.size}),e.add(n,"extent").min(0).max(10).step(.001).onChange(function(){t.shockWaveMaterial.uniforms.maxRadius.value=n.extent}),e.add(n,"waveSize").min(0).max(2).step(.001).onChange(function(){t.shockWaveMaterial.uniforms.waveSize.value=n.waveSize}),e.add(n,"amplitude").min(0).max(.25).step(.001).onChange(function(){t.shockWaveMaterial.uniforms.amplitude.value=n.amplitude}),e.add(t,"explode")}}]),n}(),Nn=function(e){function a(e){l(this,a);var t=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,"smaa",e));return t.originalRenderer=null,t.rendererAA=null,t.controls2=null,t.smaaPass=null,t.texturePass=null,t.objectA=null,t.objectB=null,t.objectC=null,t}return c(a,Bn),u(a,[{key:"load",value:function(){var n=this.assets,i=this.loadingManager,a=new w.TextureLoader(i),s=new w.CubeTextureLoader(i),e="textures/skies/sunset/",t=".png",o=[e+"px"+t,e+"nx"+t,e+"py"+t,e+"ny"+t,e+"pz"+t,e+"nz"+t];return new Promise(function(r,e){var t=void 0;0===n.size?(i.onError=e,i.onProgress=function(e,t,n){t===n&&r()},s.load(o,function(e){n.set("sky",e)}),a.load("textures/crate.jpg",function(e){e.wrapS=e.wrapT=w.RepeatWrapping,n.set("crate-color",e)}),(t=new Image).addEventListener("load",function(){n.set("smaa-search",this),i.itemEnd("smaa-search")}),i.itemStart("smaa-search"),t.src=Ze.searchImageDataURL,(t=new Image).addEventListener("load",function(){n.set("smaa-area",this),i.itemEnd("smaa-area")}),i.itemStart("smaa-area"),t.src=Ze.areaImageDataURL):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(-3,0,-3),i.lookAt(e.position),this.camera=i,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color);var a,s,o,l,u=(a=r.getSize(),s=r.getClearColor(),o=r.getPixelRatio(),(l=new w.WebGLRenderer({logarithmicDepthBuffer:!0,antialias:!0})).setSize(a.width,a.height),l.setClearColor(s),l.setPixelRatio(o),l);this.originalRenderer=n.renderer,this.rendererAA=u;var h=new bn(i.position,i.quaternion,r.domElement);h.settings.pointer.lock=!1,h.settings.translation.enabled=!1,h.settings.sensitivity.zoom=1,h.lookAt(e.position);var c=(this.controls=h).clone();c.setDom(u.domElement),c.setEnabled(!1),this.controls2=c,e.background=t.get("sky");var d=new w.AmbientLight(6710886),f=new w.DirectionalLight(16759722);f.position.set(1440,200,2e3),f.target.position.copy(e.position),e.add(f),e.add(d);var v=new w.Mesh(new w.BoxBufferGeometry(1,1,1),new w.MeshBasicMaterial({color:0,wireframe:!0}));v.position.set(1.25,0,-1.25),this.objectA=v,e.add(v),(v=new w.Mesh(new w.BoxBufferGeometry(1,1,1),new w.MeshPhongMaterial({map:t.get("crate-color")}))).position.set(-1.25,0,1.25),this.objectB=v,e.add(v),v=new w.Mesh(new w.BoxBufferGeometry(.25,8.25,.25),new w.MeshPhongMaterial({color:855309}));var g=new w.Object3D,m=void 0,y=void 0,p=void 0;m=g.clone();var A=v.clone();A.position.set(-4,0,4),m.add(A),(A=v.clone()).position.set(4,0,4),m.add(A),(A=v.clone()).position.set(-4,0,-4),m.add(A),(A=v.clone()).position.set(4,0,-4),m.add(A),(y=m.clone()).rotation.set(Math.PI/2,0,0),(p=m.clone()).rotation.set(0,0,Math.PI/2),g.add(m),g.add(y),g.add(p),g.scale.set(.1,.1,.1),this.objectC=g,e.add(g),this.renderPass.renderToScreen=!1;var x=new Ze(t.get("smaa-search"),t.get("smaa-area"));x.renderToScreen=!0,this.smaaPass=x,n.addPass(x),(x=new _e(this.smaaPass.renderTargetColorEdges.texture,1,!1)).renderToScreen=!0,x.enabled=!1,this.texturePass=x,n.addPass(x)}},{key:"render",value:function(e){var t=this.objectA,n=this.objectB,r=this.objectC,i=2*Math.PI;t.rotation.x+=5e-4,t.rotation.y+=.001,n.rotation.copy(t.rotation),r.rotation.copy(t.rotation),t.rotation.x>=i&&(t.rotation.x-=i),t.rotation.y>=i&&(t.rotation.y-=i),h(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.composer,n=this.renderPass,r=this.smaaPass,i=this.texturePass,a=this.originalRenderer,s=this.rendererAA,o=this.controls,l=this.controls2,u={disabled:"disabled",edges:"edges",blend:"blend"},h={"browser AA":!1,SMAA:u.blend,sensitivity:Number.parseFloat(r.colorEdgesMaterial.defines.EDGE_THRESHOLD),"search steps":Number.parseFloat(r.weightsMaterial.defines.MAX_SEARCH_STEPS_INT)};e.add(h,"browser AA").onChange(function(){var e=t.renderer.getSize();h["browser AA"]?(s.setSize(e.width,e.height),t.replaceRenderer(s),o.setEnabled(!1),l.setEnabled(!0).lookAt(o.getTarget())):(a.setSize(e.width,e.height),t.replaceRenderer(a),o.setEnabled(!0).lookAt(l.getTarget()),l.setEnabled(!1))}),e.add(h,"SMAA",u).onChange(function(){n.renderToScreen=h.SMAA===u.disabled,r.renderToScreen=h.SMAA===u.blend,r.enabled=h.SMAA!==u.disabled,i.enabled=h.SMAA===u.edges}),e.add(h,"sensitivity").min(.05).max(.5).step(.01).onChange(function(){r.colorEdgesMaterial.setEdgeDetectionThreshold(h.sensitivity)}),e.add(h,"search steps").min(8).max(112).step(1).onChange(function(){r.weightsMaterial.setOrthogonalSearchSteps(h["search steps"])})}},{key:"reset",value:function(){h(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"reset",this).call(this),null!==this.rendererAA&&(this.rendererAA.dispose(),this.rendererAA=null),null!==this.controls2&&(this.controls2.dispose(),this.controls2=null)}}]),a}(),Wn=function(e){function r(e){l(this,r);var t=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,"tone-mapping",e));return t.toneMappingPass=null,t.object=null,t}return c(r,Bn),u(r,[{key:"load",value:function(){var t=this.assets,n=this.loadingManager,i=new w.TextureLoader(n),a=new w.CubeTextureLoader(n),e="textures/skies/sunset/",r=".png",s=[e+"px"+r,e+"nx"+r,e+"py"+r,e+"ny"+r,e+"pz"+r,e+"nz"+r];return new Promise(function(r,e){0===t.size?(n.onError=e,n.onProgress=function(e,t,n){t===n&&r()},a.load(s,function(e){t.set("sky",e)}),i.load("textures/crate.jpg",function(e){e.wrapS=e.wrapT=w.RepeatWrapping,t.set("crate-color",e)})):r()})}},{key:"initialize",value:function(){var e=this.scene,t=this.assets,n=this.composer,r=n.renderer,i=new w.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.1,2e3);i.position.set(-3,0,-3),i.lookAt(e.position),this.camera=i;var a=new bn(i.position,i.quaternion,r.domElement);a.settings.pointer.lock=!1,a.settings.translation.enabled=!1,a.settings.sensitivity.zoom=1,a.settings.zoom.minDistance=2.5,a.settings.zoom.maxDistance=40,a.lookAt(e.position),this.controls=a,e.fog=new w.FogExp2(0,.0025),r.setClearColor(e.fog.color),e.background=t.get("sky");var s=new w.AmbientLight(6710886),o=new w.DirectionalLight(16759722);o.position.set(1440,200,2e3),o.target.position.copy(e.position),e.add(o),e.add(s);var l=new w.Mesh(new w.BoxBufferGeometry(1,1,1),new w.MeshPhongMaterial({map:t.get("crate-color")}));this.object=l,e.add(l);var u=new $e({adaptive:!0,resolution:256,distinction:2});u.adaptiveLuminosityMaterial.uniforms.tau.value=2,this.renderPass.renderToScreen=!1,u.renderToScreen=!0,u.dithering=!0,this.toneMappingPass=u,n.addPass(u)}},{key:"render",value:function(e){var t=this.object,n=2*Math.PI;t.rotation.x+=5e-4,t.rotation.y+=.001,t.rotation.x>=n&&(t.rotation.x-=n),t.rotation.y>=n&&(t.rotation.y-=n),h(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"render",this).call(this,e)}},{key:"registerOptions",value:function(e){var t=this.toneMappingPass,n={resolution:Math.log2(t.resolution),distinction:t.luminosityMaterial.uniforms.distinction.value,"adaption rate":t.adaptiveLuminosityMaterial.uniforms.tau.value,"average lum":t.toneMappingMaterial.uniforms.averageLuminance.value,"min lum":t.adaptiveLuminosityMaterial.uniforms.minLuminance.value,"max lum":t.toneMappingMaterial.uniforms.maxLuminance.value,"middle grey":t.toneMappingMaterial.uniforms.middleGrey.value};e.add(n,"resolution").min(6).max(11).step(1).onChange(function(){t.resolution=Math.pow(2,n.resolution)}),e.add(t,"adaptive"),e.add(t,"dithering");var r=e.addFolder("Luminance");r.add(n,"distinction").min(1).max(10).step(.1).onChange(function(){t.luminosityMaterial.uniforms.distinction.value=n.distinction}),r.add(n,"adaption rate").min(1).max(3).step(.01).onChange(function(){t.adaptiveLuminosityMaterial.uniforms.tau.value=n["adaption rate"]}),r.add(n,"average lum").min(.01).max(1).step(.01).onChange(function(){t.toneMappingMaterial.uniforms.averageLuminance.value=n["average lum"]}),r.add(n,"min lum").min(0).max(1).step(.01).onChange(function(){t.adaptiveLuminosityMaterial.uniforms.minLuminance.value=n["min lum"]}),r.add(n,"max lum").min(0).max(32).step(1).onChange(function(){t.toneMappingMaterial.uniforms.maxLuminance.value=n["max lum"]}),r.add(n,"middle grey").min(0).max(1).step(.01).onChange(function(){t.toneMappingMaterial.uniforms.middleGrey.value=n["middle grey"]}),r.open()}}]),r}(),Xn=void 0,Kn=void 0,qn=void 0;function Jn(e){requestAnimationFrame(Jn),qn.render(e)}function Zn(e){var t=e.demo,n=Kn.renderer.getSize();Xn.setSize(n.width,n.height),Kn.replaceRenderer(Xn),Kn.reset(),Kn.addPass(t.renderPass),document.getElementById("viewport").children[0].style.display="initial"}function _n(e){e.demo.renderPass.camera=e.demo.camera,document.getElementById("viewport").children[0].style.display="none"}window.addEventListener("load",function e(t){this.removeEventListener("load",e);var n=document.getElementById("viewport");(Xn=new w.WebGLRenderer({logarithmicDepthBuffer:!0,antialias:!1})).setSize(n.clientWidth,n.clientHeight),Xn.setPixelRatio(window.devicePixelRatio),Xn.setClearColor(0),Kn=new et(Xn,{stencilBuffer:!0,depthTexture:!0}),(qn=new a(n,{aside:document.getElementById("aside"),renderer:Xn})).addEventListener("change",Zn),qn.addEventListener("load",_n),qn.addDemo(new Vn(Kn)),qn.addDemo(new zn(Kn)),qn.addDemo(new In(Kn)),qn.addDemo(new Tn(Kn)),qn.addDemo(new On(Kn)),qn.addDemo(new Ln(Kn)),qn.addDemo(new Fn(Kn)),qn.addDemo(new Un(Kn)),qn.addDemo(new Rn(Kn)),qn.addDemo(new Hn(Kn)),qn.addDemo(new Qn(Kn)),qn.addDemo(new Yn(Kn)),qn.addDemo(new jn(Kn)),qn.addDemo(new Nn(Kn)),qn.addDemo(new Wn(Kn)),Jn()}),window.addEventListener("resize",function(){var r=0;function t(e){var t=e.target.innerWidth,n=e.target.innerHeight;qn.setSize(t,n),Kn.setSize(t,n),r=0}return function(e){0===r&&(r=setTimeout(t,66,e))}}()),document.addEventListener("keydown",function(e){var t=this.getElementById("aside");e.altKey&&null!==t&&(e.preventDefault(),t.style.visibility="hidden"===t.style.visibility?"visible":"hidden")})}(THREE,dat,Stats);